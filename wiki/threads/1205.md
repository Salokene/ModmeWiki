# How would I make a zetsubou style round based ee?
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: modric<br />Like reach round 50 and a model appears outside the map... maybe even with a trigger that plays a song or fx or gives the player points.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br />[CODE=php]level.round_number[/CODE]<br /> <br />that should give you the round number. It also might help to use waittills such as:<br />[CODE=php]level waittill( &quot;start_of_round&quot; );<br />//or<br />level waittill( &quot;end_of_round&quot; );[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />[CODE=php]level waittill(&quot;between_round_over&quot;);<br />if(level.round_number == 50)<br />{<br />do stuff<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />I have this and nothing happens. I want it to spawn in a model and trigger and also play a sound when the round is reached. The model and shootable trigger are shot and then the shootable trig opens a secret door. <br />[CODE=php]function distant()<br />{<br />	<br />level waittill(&quot;between_round_over&quot;);<br />if(level.round_number == 5)<br />{<br />IPrintLnBold (&quot;Super Easter Egg confirmed&quot;);<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Scobalula<br /><blockquote><em>modric</em><br />I have this and nothing happens. I want it to spawn in a model and trigger and also play a sound when the round is reached. The model and shootable trigger are shot and then the shootable trig opens a secret door.  function distant() { level waittill(&quot;between_round_over&quot;); if(level.round_number == 5) { IPrintLnBold (&quot;Super Easter Egg confirmed&quot;); }</blockquote><br /> <br />You need a loop that will constantly check each time then break when you get to round x and execute your code, since this will just return on first notify since it won&#39;t be round 5 (it will be round 1 or 2).</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />[CODE=php]while(1)<br />{<br />	level waittill(&quot;between_round_over&quot;);<br />	if(level.round_number == 50)<br />	{<br />	do stuff<br />	}<br />}<br />[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br /><blockquote><em>mathfag</em><br />while(1) { level waittill(&quot;between_round_over&quot;); if(level.round_number == 50) { do stuff } }</blockquote><br /> To be honest I don&#39;t know what your change does exactly. Should I just run function distant() and then this?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br /><blockquote><em>modric</em><br />mathfag whle(1) { level waittill(&quot;between_round_over&quot;); if(level.round_number == 50) { do stuff } }  To be honest I don&#39;t know what your change does exactly. Should I just run function distant() and then this?</blockquote><br /> <br />[CODE=php]while(1) //repeats forever<br />{<br />	level waittill(&quot;between_round_over&quot;); //when round changes this runs<br />	if(level.round_number == 50) //if the round number is 50<br />	{ //stuff in here happens<br />	do stuff<br />	}<br />}//start again[/CODE]<br /> <br />the change is that before it only checked once now it does it forever</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />Since you already helped me with a shootable script, I figured I could use that one and combine with this for the actual reward part of the distant easter egg. I&#39;m sure I screwed something up when combining them but let me know if this would work<br />[CODE=php]<br />function tony_distant()<br />{<br /><br />	trig = GetEnt(&quot;distant_trig&quot;, &quot;targetname&quot;);<br /><br />	level.trig_total = tony_trigs.size;<br />	level.trig_current = 0;<br /><br />	foreach(trig in trigs)<br />		{<br />		trig Hide(); //you could use Hide();<br />		IPrintLnBold(&quot;trigger hidden&quot;);<br />		hide_model(); //calling the hdie_model() function<br />		}<br /><br />	while(1) //repeats forever<br /><br />	level waittill(&quot;between_round_over&quot;); //when round changes this runs<br />	if(level.round_number == 5) //if the round number is 50<br /><br /><br />	foreach(trig in trigs)<br />		{<br />		trig TriggerEnable(1); //you could use Show();<br />		IPrintLnBold(&quot;trigger shown&quot;);<br />		trig thread shoot_tony2();<br />		}	<br /><br />}<br /><br /><br />function hide_model2()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Hide();<br />IPrintLnBold(&quot;model hidden&quot;);	<br />}<br /><br /><br />function shoot_tony2()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Show();<br />IPrintLnBold(&quot;model shown&quot;);<br /><br />while(1)<br />	{<br />	self waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />	if(weapon == GetWeapon(&quot;bo3_m1911&quot;))<br />		{<br />		IPrintLnBold(&quot;Yayyyyy&quot;);<br />		PlayFX(&quot;fx_smk_explode_lg&quot;,model.origin);<br />		model PlaySound(&quot;Samlullaby&quot;);<br />		wait(0.05); //only is you&#39;re playing sound<br />		model Delete();<br />		level.tonytrigs_current++;<br />		IPrintLnBold(&quot;Collected tony &quot;+level.tonytrigs_current+&quot;/&quot;+level.tonytrigs_total);	<br />		tony_reward();<br />		break;<br />		}<br />	}<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br /> <br /> <br />[CODE=php]trig = GetEnt(&quot;distant_trig&quot;, &quot;targetname&quot;);<br /><br />level.trig_total = tony_trigs.size;[/CODE]<br /> <br /> <br />instantly<br /> <br />tony_trigs - not defined<br /> <br />and its not like you just mis typed &quot;trig&quot; either - coz that would still be an error - as it isnt an array<br /><br /><br />[CODE=php]hide_model()[/CODE]<br /> <br />doesnt exist - and seemingly would do nothing<br /> <br />[CODE=php]while(1) //repeats forever[/CODE]<br /> <br /> <br />syntax error... no parenthesis...<br /><br /><br />[CODE=php]if(level.round_number == 5) //if the round number is 50[/CODE]<br /> <br /> <br />syntax error... no parenthesis... - again ( and thats also round 5 - not 50... )<br /> <br />[CODE=php]level.tonytrigs_current++;[/CODE]<br /> <br /> <br />another error - level.tonytrigs_current is not defined, so that is<br /><br />&quot;undefined&quot; + 1<br /> <br /> which also means that...<br /> <br />[CODE=php]IPrintLnBold(&quot;Collected tony &quot;+level.tonytrigs_current+&quot;/&quot;+level.tonytrigs_total);	[/CODE]<br /> <br /> <br />is also yet another error... ( infact, even better - its &quot;two&quot; errors in one line )<br /><br />and<br /><br /><br />[CODE=php]tony_reward();[/CODE]<br /> <br /> <br />is again - another undefined function<br /> <br /> <br /> <br /> <br />Please pay more attention to the scripts you post to people or refrain from giving them. Thats 7 complete break errors</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />Thank you for your help Harry with the syntax stuff, I tried to sort out the syntax errors, but still feel the <br />while (1) //repeats forever<br />level waittill(&quot;between_round_over&quot;); //when round changes this runs<br /> if level.round_number == 5 stuff needs parenthesis. I am more concerned with the concept of the script, that everything lines up, since this is 2 scripts mixed that include some concepts I am not so familiar with. I am going to test it soon assuming the syntax is cleaned up.<br />[CODE=php]function tony_distant()<br />{<br /><br />	trig = GetEnt(&quot;distant_trig&quot;, &quot;targetname&quot;);<br /><br />	level.trig_total = trigs.size;<br />	level.trig_current = 0;<br /><br />	foreach(trig in trigs)<br />		{<br />		trig Hide(); //you could use Hide();<br />		IPrintLnBold(&quot;trigger hidden&quot;);<br />		hide_model2(); //calling the hdie_model() function<br />		}<br /><br />	while (1) //repeats forever<br /><br />	level waittill(&quot;between_round_over&quot;); //when round changes this runs<br />	if level.round_number == 5 //if the round number is 50<br /><br /><br />	foreach(trig in trigs)<br />		{<br />		trig TriggerEnable(1); //you could use Show();<br />		IPrintLnBold(&quot;trigger shown&quot;);<br />		trig thread shoot_tony2();<br />		}	<br /><br />}<br /><br /><br />function hide_model2()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Hide();<br />IPrintLnBold(&quot;model hidden&quot;);	<br />}<br /><br /><br />function shoot_tony2()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Show();<br />IPrintLnBold(&quot;model shown&quot;);<br /><br />while(1)<br />	{<br />	self waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />	if(weapon == GetWeapon(&quot;bo3_m1911&quot;))<br />		{<br />		IPrintLnBold(&quot;Yayyyyy&quot;);<br />		PlayFX(&quot;fx_smk_explode_lg&quot;,model.origin);<br />		model PlaySound(&quot;Samlullaby&quot;);<br />		wait(0.05); //only is you&#39;re playing sound<br />		model Delete();<br />		level.trigs_current++;	<br />		break;<br />		}<br />	}<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br />[CODE=php]trig = GetEnt(&quot;distant_trig&quot;, &quot;targetname&quot;);<br /><br />	level.trig_total = trigs.size;[/CODE]<br /> <br /> <br />still have an error immediatly<br /> <br />trig - is not an array<br /> <br />[CODE=php]while (1) //repeats forever[/CODE]<br /> <br /> <br />you still havent added a parenthesis here<br /> <br />[CODE=php]if level.round_number == 5 //if the round number is 50[/CODE]<br /> <br /> <br />5 still isnt 50<br /> <br />[CODE=php]hide_model2(); //calling the hdie_model() function[/CODE]<br /> <br /> <br />is running on &quot;level&quot; not the trig - level has no &quot;target&quot;<br /> <br />[CODE=php]level.trigs_current++;	[/CODE]<br /> <br /> <br />is &quot;still&quot; a undeclared variable ( you have spelt it wrong )</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />yea sorry i left some syntax in there i kind of rushed that, its all cleaned up now.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br /><blockquote><em>modric</em><br />yea sorry i left some syntax in there i kind of rushed that, its all cleaned up now. </blockquote><br /> read this<br /> <br /><a href="http://natesmithzombies.com/wiki.html">http://natesmithzombies.com/wiki.html</a></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br /><blockquote><em>modric</em><br />yea sorry i left some syntax in there i kind of rushed that, its all cleaned up now. </blockquote><br /> dude your not even paying attention to what im saying<br /> <br />[CODE=php]trig = GetEnt(&quot;distant_trig&quot;, &quot;targetname&quot;);<br /><br />	level.trig_total = trigs.size;[/CODE]<br /> <br /> <br /><strong>&quot;TRIG&quot; IS NOT AN <span style="color:#ff0000;">ARRAY</span></strong><br /> <br /> <br />for the third flipping time<br /> <br /> <br />[CODE=php]if level.round_number == 5 //if the round number is 50[/CODE]<br /> <br /> <br />and that is EVEN WORSE and STILL not round 50<br /><br /><br />[CODE=php]while (1) //repeats forever[/CODE]<br /> <br /> <br />this still has no damn {}<br /> <br /> <br /> <br /> <br /> <br />posting bad code is one thing, fixing it but missing some is another - but three times? completely ignoring all the major errors that ive literally called out multiple times?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br /> <br /> <img style="max-width: 500px;" src="http://i0.kym-cdn.com/photos/images/original/001/233/131/e09.jpg"><br />[CODE=php]function tony_distant()<br />{<br /><br />	trigs = GetEntArray(&quot;distant_trig&quot;, &quot;targetname&quot;);<br /><br />	level.trig_total = trigs.size;<br />	level.trig_current = 0;<br /><br />	foreach(trig in trigs)<br />		{<br />		trig TriggerEnable(0); //you could use Hide();<br />		model = GetEnt( self.target, &quot;targetname&quot; );<br />		model Hide();<br />		IPrintLnBold(&quot;model and trigger hidden&quot;);	<br />		}<br /><br />	while (1) //repeats forever<br />		{<br />		level waittill(&quot;between_round_over&quot;); //when round changes this runs<br />		if (level.round_number == 50) //if the round number 50<br />			{<br />			foreach(trig in trigs)<br />				{<br />				trig TriggerEnable(1); //you could use Show();<br />				IPrintLnBold(&quot;trigger shown&quot;);<br />				trig thread shoot_tony2();<br />				}	<br />			}<br />		}<br />}<br /><br /><br />function shoot_tony2()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Show();<br />IPrintLnBold(&quot;model shown&quot;);<br /><br />while(1)<br />	{<br />	self waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />	if(weapon == GetWeapon(&quot;bo3_m1911&quot;))<br />		{<br />		IPrintLnBold(&quot;Yayyyyy&quot;);<br />		PlayFX(&quot;fx_smk_explode_lg&quot;,model.origin);<br />		PlaySoundAtPosition(&quot;Samlullaby&quot;, model.origin); //if you use playsound it will stop when you delete the model i think<br />		wait(0.05); //only is you&#39;re playing sound<br />		model Delete();<br />		level.trigs_current++;	<br />		break;<br />		}<br />	}<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br />almost<br /> <br />[CODE=php]model = GetEnt( self.target, &quot;targetname&quot; );[/CODE]<br /> <br /> <br /> <br />self == level</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br /><blockquote><em>Harry Bo21</em><br />almost   model = GetEnt( self.target, &quot;targetname&quot; );       self == level</blockquote><br /> Ye that line used to be in a new function<br />[CODE=php]model = GetEnt( trig.target, &quot;targetname&quot; );[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />I actually made the script nearly from scratch before you posted your new one mathfag, obviously I am not very good at scripting stuff but let me know if I&#39;m on the right track. I&#39;ll use yours for my map since its guaranteed to be better, but mine is a start I think. <br />[CODE=php]function distant_monster()<br />{<br />	trig = GetEnt(&quot;distant_trig&quot;, &quot;targetname&quot;)<br />	model = GetEnt(&quot;distant_model&quot;, &quot;targetname&quot;)<br />	trig Hide();<br />	model Hide();<br /><br />}<br />function show_distant()<br />{<br /><br />	while (1) <br /><br />	level waittill(&quot;between_round_over&quot;); <br />	if (level.round_number == 5) <br />	trig Show();<br />	model Show();<br />	IPrintLnBold (&quot;model shown&quot;);<br /><br />	trig thread shoot_distant();<br />}<br />function shoot_distant()<br />{	<br />	self waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />	if(weapon == GetWeapon(&quot;bo3_m1911&quot;))<br />	{<br />		trig Delete();<br />		model Delete();<br />		PlayFX(&quot;fx_smk_explode_lg&quot;,model.origin);<br />		IPrintLnBold (&quot;Yayyyyyyyy&quot;)<br /><br />	}<br /><br />}<br />[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br />[CODE=php]while (1) <br /><br />	level waittill(&quot;between_round_over&quot;); <br />	if (level.round_number == 5) [/CODE]<br /> <br /> <br />are you ever gonna learn to use the {} ffs....<br /> <br />[CODE=php]function show_distant()<br />{<br /><br />	while (1) <br /><br />	level waittill(&quot;between_round_over&quot;); <br />	if (level.round_number == 5) <br />	trig Show();<br />	model Show();<br />	IPrintLnBold (&quot;model shown&quot;);<br /><br />	trig thread shoot_distant();<br />}[/CODE]<br /> <br />&quot;trig&quot; AND &quot;model&quot; are both undeclared variables within this functions space too...<br /> <br />[CODE=php]function shoot_distant()<br />{	<br />	self waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />	if(weapon == GetWeapon(&quot;bo3_m1911&quot;))<br />	{<br />		trig Delete();<br />		model Delete();<br />		PlayFX(&quot;fx_smk_explode_lg&quot;,model.origin);<br />		IPrintLnBold (&quot;Yayyyyyyyy&quot;)<br /><br />	}<br /><br />}[/CODE]<br /> <br />same again here... and &quot;trig&quot; is &quot;self&quot; here anyway...<br /> <br /> <br />[CODE=php]show_distant()[/CODE]<br /> <br /> <br />is not threaded on anything anywhere<br /> <br /> <br /> <br />test your code... stop posting game and compile crashing errors</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br />[CODE=php]function do_the_stuff()<br />{<br />	e_model = getEnt( &quot;distant_model&quot;, &quot;targetname&quot; );<br />	if ( !isDefined( e_model ) )<br />		return;<br />	<br />	e_model thread do_logic();<br />}<br /><br />function do_logic()<br />{<br />	self hide();<br />	<br />	while ( level.round_number &lt; 5 )<br />		wait .05;<br />	<br />	self show();<br />	self setCanDamage( 1 );<br />	<br />	while ( 1 )<br />	{<br />		self waittill( &quot;damage&quot;, n_damage, e_attacker, v_dir, v_point, str_mod, str_model, str_tag, str_part, w_weapon, str_flags, e_inflictor, n_charge_level );<br />		if ( w_weapon.name == &quot;bo3_m1911&quot; )<br />			break;<br />	<br />	}<br />	playFX( &quot;fx_smk_explode_lg&quot;, self.origin );<br />	playSoundAtPosition( &quot;Samlullaby&quot;, self.origin );<br />	self delete();<br />}[/CODE]<br /> <br /> <br /> <br />this &quot;only&quot; needs a model, no trigger, and to be threaded</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />OK thanks, just out of curiosity, why did you choose to do model with no trigger in script? I assume I would target the trig with the model with w, but most scripts use trig targeting model. Is there any reason to use one or the other?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br />1 - dont need a trigger<br />2 - hit detection will be &quot;exact&quot;<br />3 - using a trigger &quot;as well&quot; is a waste of your &quot;limited&quot; entities</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />OK that is much better, I just have never seen model only in a script. Thanks again</p>
