# Boss Fight - Add music and (if possible) infinite zombies
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Pepergogo</span></span>:</strong>

<p>Hi<br />Is it possible to add a song and infinite zombies spawn to a Boss fight?<br /><br />I&#39;m using abnormal Brutus boss fight script, but I was looking how to add a song that I have and the zombie spawning during the time of the boss fight?<br /><br />

<br />[CODE=csharp]//Brutus Boss Fight<br />function brutus_doo_dah()<br />{<br />    level.brutuses = 20; //amount of brutuses to spawn<br />    level.brutus_in_between_spawn_time = 30; //time between spawns for Brutus. If you&#39;re only spawning one Brutus, set this to 0.<br />    level.stop_zombies_from_spawning = false; //set &quot;true&quot; to stop zombies from spawning during Brutus fight.<br />    level.kill_all_zombies_before_fight = true; //set &quot;true&quot; to kill all zombies before Brutus fight.<br /><br />    level.brutus_reward = &quot;door&quot;; //what happens when you kill all the Brutuses. Right now, options are: (&quot;door&quot;,&quot;powerup&quot;,&quot;gun&quot;)<br />    level.brutus_reward_2 = false; //add another reward if you want. just say &quot;false&quot; or delete the line if you don&#39;t want an extra reward.<br />    level.brutus_reward_3 = false; //add yet another reward if you want. Note that you cannot do more than one of the same reward.<br />    level.brutus_powerup_type = &quot;nuke&quot;; //if using a powerup as one of your rewards, this is what type. can be (&quot;full_ammo&quot;,&quot;nuke&quot;,&quot;insta_kill&quot;,&quot;free_perk&quot;,&quot;fire_sale&quot;,&quot;double_points&quot;,&quot;carpenter&quot;,&quot;minigun&quot;,and &quot;random&quot;)<br />    level.brutus_reward_weapons = array( &quot;ar_damage&quot;, &quot;lmg_cqb&quot;, &quot;shotgun_pump&quot;, &quot;smg_versatile&quot; ); //weapons it can give you in the &quot;gun&quot; reward. put as many or as little as you like.<br />    level.brutus_gun_expire = true; //whether or not the gun will go away in time.<br />    level.brutus_delete_door_after_move = true; //set &quot;true&quot; to delete the door after its done moving. Would recommend if it won&#39;t be seen.<br />    level.brutus_gun_hintstring = &quot;Press ^3[{+activate}]^7 to take weapon&quot;; //if gun reward is activated, hintstring for picking up gun.<br />    level.brutus_one_gun_per_player = true; //for gun powerup, set &quot;true&quot; if you want a gun to spawn for each player, &quot;false&quot; for just one gun no matter what.<br />    level.brutus_different_guns_per_player = false; //for gun powerup, set &quot;true&quot; if you want each gun to be randomly different, false if you want them to be the same random gun. if one_gun_per_player = &quot;false&quot; this doesn&#39;t matter.<br />    <br />    <br />    trig = GetEnt(&quot;brutus_trig&quot;,&quot;targetname&quot;);<br />    trig waittill(&quot;trigger&quot;,player);<br />    if(level.stop_zombies_from_spawning == true)<br />        level flag::clear( &quot;spawn_zombies&quot; );<br />    if(level.kill_all_zombies_before_fight == true)<br />    {<br />        zombies = zombie_utility::get_round_enemy_array();<br />        if ( isdefined( zombies ) )<br />        {<br />            array::run_all( zombies, &amp;Kill );<br />        }<br />    }<br />    <br />    <br />    thread spawn_my_brutus();   <br />    <br />    <br />    <br />    level waittill(&quot;all_brutuses_down&quot;);<br />    //IPrintLnBold(&quot;recieved&quot;);<br />    if(level.stop_zombies_from_spawning == true)<br />        level flag::set( &quot;spawn_zombies&quot; );<br />    brutus_reward();<br />}<br />function spawn_my_brutus()<br />{<br />    brutus_spawners =  struct::get_array(&quot;brutus_arena_spawn&quot;,&quot;targetname&quot;);<br />    for(i=0;i&lt;level.brutuses;i++)<br />    {<br />        rand = RandomIntRange( 0, brutus_spawners.size );<br />        brutus_spawners[rand] thread brutus::arena_spawn_brutus();<br />        wait(level.brutus_in_between_spawn_time);<br />    }<br />}<br />function brutus_reward()<br />{<br />    //IPrintLnBold(&quot;brutus_reward&quot;);<br />    if(level.brutus_reward == &quot;door&quot; || level.brutus_reward_2 == &quot;door&quot; || level.brutus_reward_3 == &quot;door&quot;)<br />    {<br />        //IPrintLnBold(&quot;door reward&quot;);<br />        time = 2; //2 is amount of time in seconds door takes to move.<br />        door_parts = GetEntArray(&quot;brutus_door&quot;,&quot;targetname&quot;);<br />        for(i=0;i&lt;door_parts.size;i++)<br />        {<br />            target = Struct::Get(door_parts<em>.target,&quot;targetname&quot;);<br />            if(isdefined(target))<br />                door_parts<em>MoveTo(target.origin, time);<br />            if(isdefined(door_parts<em>.script_vector))<br />                door_parts<em>MoveTo(door_parts<em>.origin + (door_parts<em>.script_vector), time);<br />        }<br />        wait(time);<br />        <br />        if(level.brutus_delete_door_after_move == true)<br />        {<br />            for(i=0;i&lt;door_parts.size;i++)<br />            {<br />                <br />                door_parts<em>Delete();<br />            }<br />        }<br />    }<br />    if(level.brutus_reward == &quot;powerup&quot; || level.brutus_reward_2 == &quot;powerup&quot; || level.brutus_reward_3 == &quot;powerup&quot;)<br />    {<br />        powerup_struct = GetEnt(&quot;brutus_powerup_struct&quot;,&quot;targetname&quot;);<br />        if(level.brutus_powerup_type != &quot;random&quot;)<br />            thread zm_powerups::specific_powerup_drop( level.brutus_powerup_type, powerup_struct.origin);<br />        if(level.brutus_powerup_type == &quot;random&quot;)<br />        {<br />            rand = RandomIntRange( 0, 7 ); //(&quot;full_ammo&quot;,&quot;nuke&quot;,&quot;insta_kill&quot;,&quot;free_perk&quot;,&quot;fire_sale&quot;,&quot;double_points&quot;,&quot;carpenter&quot;,&quot;minigun&quot;)<br />            if(rand == 0)<br />                thread zm_powerups::specific_powerup_drop( &quot;full_ammo&quot;, powerup_struct.origin);<br />            if(rand == 1)<br />                thread zm_powerups::specific_powerup_drop( &quot;nuke&quot;, powerup_struct.origin);<br />            if(rand == 2)<br />                thread zm_powerups::specific_powerup_drop( &quot;insta_kill&quot;, powerup_struct.origin);<br />            if(rand == 3)<br />                thread zm_powerups::specific_powerup_drop( &quot;free_perk&quot;, powerup_struct.origin);<br />            if(rand == 4)<br />                thread zm_powerups::specific_powerup_drop( &quot;fire_sale&quot;, powerup_struct.origin);<br />            if(rand == 5)<br />                thread zm_powerups::specific_powerup_drop( &quot;double_points&quot;, powerup_struct.origin);<br />            if(rand == 6)<br />                thread zm_powerups::specific_powerup_drop( &quot;carpenter&quot;, powerup_struct.origin);<br />            if(rand == 7)<br />                thread zm_powerups::specific_powerup_drop( &quot;minigun&quot;, powerup_struct.origin);<br />        }<br />    }<br />    if(level.brutus_reward == &quot;gun&quot; || level.brutus_reward_2 == &quot;gun&quot; || level.brutus_reward_3 == &quot;gun&quot;)<br />    {<br />        //IPrintLnBold(&quot;gun reward&quot;);<br />        if(level.brutus_one_gun_per_player == false)<br />            gun_struct = struct::get(&quot;brutus_gun_struct&quot;,&quot;targetname&quot;);<br />            thread brutus_RewardGun(gun_struct.origin+(0,0,40), array::randomize(level.brutus_reward_weapons)[0]);<br />        if(level.brutus_one_gun_per_player == true &amp;&amp; level.brutus_different_guns_per_player == true)<br />        {<br />            gun_structs = struct::get_array(&quot;brutus_gun_struct&quot;,&quot;targetname&quot;);<br />            players = GetPlayers();<br />            for(i=0;i&lt;players.size;i++)<br />            {<br />                thread brutus_RewardGun(gun_structs<em>.origin+(0,0,40), array::randomize(level.brutus_reward_weapons)[0]);<br />            }<br />        }<br />        if(level.brutus_one_gun_per_player == true &amp;&amp; level.brutus_different_guns_per_player == false)<br />        {<br />            rand = RandomIntRange( 0, level.brutus_reward_weapons.size );<br />            gun_structs = struct::get_array(&quot;brutus_gun_struct&quot;,&quot;targetname&quot;);<br />            players = GetPlayers();<br />            for(i=0;i&lt;players.size;i++)<br />            {<br />                thread brutus_RewardGun(gun_structs<em>.origin+(0,0,40), level.brutus_reward_weapons[rand]);<br />            }<br />        }<br />    }<br />}<br />function brutus_RewardGun(pos, weapon)<br />{<br />    gun = spawn(&quot;script_model&quot;, pos);<br />    playsoundatposition(&quot;zmb_spawn_powerup&quot;, pos);<br />    <br />    gun SetModel(GetWeaponWorldModel(GetWeapon(weapon)));<br />    PlayFX(level._effect[&quot;powerup_grabbed_solo&quot;], gun.origin);<br />    trig = spawn(&quot;trigger_radius&quot;, gun.origin, 0, 20, 50);<br />    gun thread brutus_SpinMe();<br />    gun thread brutus_GiveMe(weapon, trig);<br />    if(level.brutus_gun_expire == true)<br />        gun thread brutus_LifeTime(trig);<br />}<br />function brutus_LifeTime(trig)<br />{<br />    self endon(&quot;death&quot;);<br />    wait(120);//wait 2 minutes then delete<br />    if(isdefined(self))<br />    {<br />        self notify(&quot;rewardgun_delete&quot;);<br />    }<br />    if(isdefined(trig))<br />    {<br />        trig delete();<br />    }<br />    if(isdefined(self))<br />    {<br />        self delete();<br />    }<br />}<br />function brutus_GiveMe(weapon, trig)<br />{<br />    self endon(&quot;rewardgun_delete&quot;);<br />    while(1)<br />    {<br />        trig waittill(&quot;trigger&quot;, player);<br />        player thread brutus_SetGunHint(level.brutus_gun_hintstring, trig);<br />        if(player HasWeapon(getweapon(&quot;minigun&quot;)))<br />        {<br />            continue;<br />        }<br />        if(!(player UseButtonPressed()))<br />        {<br />            continue;<br />        }<br />        if(player laststand::player_is_in_laststand())<br />        {<br />            continue;<br />        }<br />        trig delete();<br />        self delete();<br />        player zm_weapons::weapon_give(getweapon(weapon));<br />        player SwitchToWeapon(getweapon(weapon));<br />        break;<br />        wait(.1);<br />    }<br />}<br /><br />function brutus_SpinMe()<br />{<br />    self endon(&quot;rewardgun_delete&quot;);<br />    self endon(&quot;death&quot;);<br />    while(isdefined(self))<br />    {<br />        if(isdefined(self))<br />        {<br />            self rotateyaw(360,2);<br />        }<br />        wait(1.9);<br />    }<br />}<br />function brutus_SetGunHint(text, trig)<br />{<br />    if(isdefined(self.brutus_gun_hud))<br />    {<br />        return;<br />    }<br />    self.brutus_gun_hud = NewClientHudElem( self );<br />    self.brutus_gun_hud.horzAlign = &quot;center&quot;;<br />    self.brutus_gun_hud.vertAlign = &quot;middle&quot;;<br />    self.brutus_gun_hud.alignX = &quot;center&quot;;<br />    self.brutus_gun_hud.alignY = &quot;middle&quot;;<br />    self.brutus_gun_hud.foreground = 1;<br />    self.brutus_gun_hud.fontscale = 1;<br />    self.brutus_gun_hud.alpha = 1;<br />    self.brutus_gun_hud.color = ( 0.44, .74, .94 );<br />    self.brutus_gun_hud SetText(text);<br />    while(isdefined(trig) &amp;&amp; self IsTouching(trig))<br />    {<br />        wait(.05);<br />    }<br />    self.brutus_gun_hud SetText(&quot;&quot;);<br />    self.brutus_gun_hud Destroy();<br />    self.brutus_gun_hud = undefined;<br />}[/CODE]</em></em></em></em></em></em></em></em></em></p>
