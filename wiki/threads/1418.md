# Calling multiple triggers from a GetEntArray
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: gunrock12<br />I can&#39;t get my multiple triggers with the same targetname to work! it works fine if it<br />is a simple GetEnt but as soon as i changed it into a GetEntArray all triggers fail to activate.<br /> <br />I almost got this solved! any help is appreciated thank you.<br /> <br /> <br /> <br /> <br />function soundbox1()////////PLAYS SOUND LOOP WHILE PLAYER IS IN THE TRIGGER<br />{<br /> <br /><br /><br /><br /><br />soundbox1_trig = GetEntArray( &quot;area_sound1&quot;,&quot;targetname&quot; );<br />soundbox1_trig waittill(&quot;trigger&quot;, player);<br /><br />players = GetPlayers();<br /><br />for (i = 0; i &lt; players.size; i++)<br />              <br />   <br />    while(1)<br />    {<br />       <br />         <br />        while(!(players<em>istouching(soundbox1_trig)))<br />       <br />           <br />            wait 0.5;<br />       <br />       <br />       <br />           <br />            iprintlnbold(&quot;playing sound&quot;);<br />            players<em>PlayLoopSound( &quot;jack&quot; );<br />           <br />            <br /><br /><br /><br />            wait 8;<br />       <br />    }<br /><br />}</em></em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />You need a separate function.<br /> <br />[CODE=php]function soundbox_trigs() //makes all the trigs call the function soundbox1()<br />{<br />soundbox1_trig = GetEntArray( &quot;area_sound1&quot;,&quot;targetname&quot; );<br /><br />foreach(trig in soundbox1_trig)<br />	trig thread soundbox1();<br />}[/CODE]<br />Not sure what you&#39;re trying to do in this function but I fixed it to my best effort.<br />Putting a while(1) inside a for(;;) is stupid (no offence). The for(;;) loop is pointless because the while(1) makes it loop forever anyway.<br /> <br />[CODE=php]function soundbox1()//self = trigger<br />{<br />/*<br />Function waits untill trigger is triggered.<br />Checks if all players are touching it.<br />If they are it plays a looping sound, if not it stops it.<br />*/<br />snd_playing = 0;<br /><br />while(1)<br />	{<br />	c = 0;<br />	self waittill(&quot;trigger&quot;);<br /><br />	for(i=0; i&lt;getplayers().size; i++)=&quot;&quot; if(getplayers()<em>=&quot;&quot; istouching(self))=&quot;&quot; c++;=&quot;&quot; if(c=&quot;=&quot; getplayers().size=&quot;&quot; &amp;&amp;=&quot;&quot; snd_playing=&quot;=&quot; 0)=&quot;&quot; {=&quot;&quot; self=&quot;&quot;&gt;&lt;/getplayers().size;&gt;&lt;aliasname&gt;&quot;,1);<br />		snd_playing = 1;<br />		}<br /><br />	else if(c != GetPlayers().size)<br />		{<br />		self StopLoopSound(3);<br />		snd_playing = 0;	<br />		}<br />	wait 0.05;<br />	}<br />}&lt;/aliasname&gt;[/CODE]<br /> <br /> <br />Didn&#39;t test this out. Hope it works.<br />Make sure your alias is marked as LOOPING.</em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: gunrock12<br />Thanks for the reply though it worked it didn&#39;t play the sound and it triggered only once where the trigger&#39;s are suppose <br />to be repeatable. I feel we are getting close though. My alias sound is marked as looping.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: gunrock12<br />Okay i got it working! <img style="max-width: 500px;" src="/modme/emoticons/smile.png"> just changed around a few things! Was stuck on this for awhile thank you!<img style="max-width: 500px;" src="/modme/emoticons/happy.png"></p>
