# Show/Hide door
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Pepergogo</span></span>:</strong>

<p>Hi<br />I just want to appear a door when the Boss fight starts and dissapear when the fight ends<br />Anyone know how to do it?<br /><br />{% highlight php %}
//Brutus Boss Fight
function brutus_doo_dah()
{
    level.brutuses = 14; //amount of brutuses to spawn
    level.brutus_in_between_spawn_time = 30; //time between spawns for Brutus. If you&#39;re only spawning one Brutus, set this to 0.
    level.stop_zombies_from_spawning = false; //set &quot;true&quot; to stop zombies from spawning during Brutus fight.
    level.kill_all_zombies_before_fight = true; //set &quot;true&quot; to kill all zombies before Brutus fight.

    level.brutus_reward = &quot;door&quot;; //what happens when you kill all the Brutuses. Right now, options are: (&quot;door&quot;,&quot;powerup&quot;,&quot;gun&quot;)
    level.brutus_reward_2 = false; //add another reward if you want. just say &quot;false&quot; or delete the line if you don&#39;t want an extra reward.
    level.brutus_reward_3 = false; //add yet another reward if you want. Note that you cannot do more than one of the same reward.
    level.brutus_powerup_type = &quot;nuke&quot;; //if using a powerup as one of your rewards, this is what type. can be (&quot;full_ammo&quot;,&quot;nuke&quot;,&quot;insta_kill&quot;,&quot;free_perk&quot;,&quot;fire_sale&quot;,&quot;double_points&quot;,&quot;carpenter&quot;,&quot;minigun&quot;,and &quot;random&quot;)
    level.brutus_reward_weapons = array( &quot;ar_damage&quot;, &quot;lmg_cqb&quot;, &quot;shotgun_pump&quot;, &quot;smg_versatile&quot; ); //weapons it can give you in the &quot;gun&quot; reward. put as many or as little as you like.
    level.brutus_gun_expire = true; //whether or not the gun will go away in time.
    level.brutus_delete_door_after_move = true; //set &quot;true&quot; to delete the door after its done moving. Would recommend if it won&#39;t be seen.
    level.brutus_gun_hintstring = &quot;Press ^3[{+activate}]^7 to take weapon&quot;; //if gun reward is activated, hintstring for picking up gun.
    level.brutus_one_gun_per_player = true; //for gun powerup, set &quot;true&quot; if you want a gun to spawn for each player, &quot;false&quot; for just one gun no matter what.
    level.brutus_different_guns_per_player = false; //for gun powerup, set &quot;true&quot; if you want each gun to be randomly different, false if you want them to be the same random gun. if one_gun_per_player = &quot;false&quot; this doesn&#39;t matter.
    
    
    trig = GetEnt(&quot;brutus_trig&quot;,&quot;targetname&quot;);
    trig waittill(&quot;trigger&quot;,player);
    if(level.stop_zombies_from_spawning == true)
        level flag::clear( &quot;spawn_zombies&quot; );
    if(level.kill_all_zombies_before_fight == true)
    {
        zombies = zombie_utility::get_round_enemy_array();
        if ( isdefined( zombies ) )
        {
            array::run_all( zombies, &amp;Kill );
        }
    }
    
    
    thread spawn_my_brutus();   
    
    
    
    level waittill(&quot;all_brutuses_down&quot;);
    //IPrintLnBold(&quot;recieved&quot;);
    if(level.stop_zombies_from_spawning == true)
        level flag::set( &quot;spawn_zombies&quot; );
    brutus_reward();
}
function spawn_my_brutus()
{
    brutus_spawners =  struct::get_array(&quot;brutus_arena_spawn&quot;,&quot;targetname&quot;);
    for(i=0;i&lt;level.brutuses;i++)
    {
        rand = RandomIntRange( 0, brutus_spawners.size );
        brutus_spawners[rand] thread brutus::arena_spawn_brutus();
        wait(level.brutus_in_between_spawn_time);
    }
}
function brutus_reward()
{
    //IPrintLnBold(&quot;brutus_reward&quot;);
    if(level.brutus_reward == &quot;door&quot; || level.brutus_reward_2 == &quot;door&quot; || level.brutus_reward_3 == &quot;door&quot;)
    {
        //IPrintLnBold(&quot;door reward&quot;);
        time = 2; //2 is amount of time in seconds door takes to move.
        door_parts = GetEntArray(&quot;brutus_door&quot;,&quot;targetname&quot;);
        for(i=0;i&lt;door_parts.size;i++)
        {
            target = Struct::Get(door_parts[i].target,&quot;targetname&quot;);
            if(isdefined(target))
                door_parts[i] MoveTo(target.origin, time);
            if(isdefined(door_parts[i].script_vector))
                door_parts[i] MoveTo(door_parts[i].origin + (door_parts[i].script_vector), time);
        }
        wait(time);
        
        if(level.brutus_delete_door_after_move == true)
        {
            for(i=0;i&lt;door_parts.size;i++)
            {
                
                door_parts[i] Delete();
            }
        }
    }
    if(level.brutus_reward == &quot;powerup&quot; || level.brutus_reward_2 == &quot;powerup&quot; || level.brutus_reward_3 == &quot;powerup&quot;)
    {
        powerup_struct = GetEnt(&quot;brutus_powerup_struct&quot;,&quot;targetname&quot;);
        if(level.brutus_powerup_type != &quot;random&quot;)
            thread zm_powerups::specific_powerup_drop( level.brutus_powerup_type, powerup_struct.origin);
        if(level.brutus_powerup_type == &quot;random&quot;)
        {
            rand = RandomIntRange( 0, 7 ); //(&quot;full_ammo&quot;,&quot;nuke&quot;,&quot;insta_kill&quot;,&quot;free_perk&quot;,&quot;fire_sale&quot;,&quot;double_points&quot;,&quot;carpenter&quot;,&quot;minigun&quot;)
            if(rand == 0)
                thread zm_powerups::specific_powerup_drop( &quot;full_ammo&quot;, powerup_struct.origin);
            if(rand == 1)
                thread zm_powerups::specific_powerup_drop( &quot;nuke&quot;, powerup_struct.origin);
            if(rand == 2)
                thread zm_powerups::specific_powerup_drop( &quot;insta_kill&quot;, powerup_struct.origin);
            if(rand == 3)
                thread zm_powerups::specific_powerup_drop( &quot;free_perk&quot;, powerup_struct.origin);
            if(rand == 4)
                thread zm_powerups::specific_powerup_drop( &quot;fire_sale&quot;, powerup_struct.origin);
            if(rand == 5)
                thread zm_powerups::specific_powerup_drop( &quot;double_points&quot;, powerup_struct.origin);
            if(rand == 6)
                thread zm_powerups::specific_powerup_drop( &quot;carpenter&quot;, powerup_struct.origin);
            if(rand == 7)
                thread zm_powerups::specific_powerup_drop( &quot;minigun&quot;, powerup_struct.origin);
        }
    }
    if(level.brutus_reward == &quot;gun&quot; || level.brutus_reward_2 == &quot;gun&quot; || level.brutus_reward_3 == &quot;gun&quot;)
    {
        //IPrintLnBold(&quot;gun reward&quot;);
        if(level.brutus_one_gun_per_player == false)
            gun_struct = struct::get(&quot;brutus_gun_struct&quot;,&quot;targetname&quot;);
            thread brutus_RewardGun(gun_struct.origin+(0,0,40), array::randomize(level.brutus_reward_weapons)[0]);
        if(level.brutus_one_gun_per_player == true &amp;&amp; level.brutus_different_guns_per_player == true)
        {
            gun_structs = struct::get_array(&quot;brutus_gun_struct&quot;,&quot;targetname&quot;);
            players = GetPlayers();
            for(i=0;i&lt;players.size;i++)
            {
                thread brutus_RewardGun(gun_structs[i].origin+(0,0,40), array::randomize(level.brutus_reward_weapons)[0]);
            }
        }
        if(level.brutus_one_gun_per_player == true &amp;&amp; level.brutus_different_guns_per_player == false)
        {
            rand = RandomIntRange( 0, level.brutus_reward_weapons.size );
            gun_structs = struct::get_array(&quot;brutus_gun_struct&quot;,&quot;targetname&quot;);
            players = GetPlayers();
            for(i=0;i&lt;players.size;i++)
            {
                thread brutus_RewardGun(gun_structs[i].origin+(0,0,40), level.brutus_reward_weapons[rand]);
            }
        }
    }
}
function brutus_RewardGun(pos, weapon)
{
    gun = spawn(&quot;script_model&quot;, pos);
    playsoundatposition(&quot;zmb_spawn_powerup&quot;, pos);
    
    gun SetModel(GetWeaponWorldModel(GetWeapon(weapon)));
    PlayFX(level._effect[&quot;powerup_grabbed_solo&quot;], gun.origin);
    trig = spawn(&quot;trigger_radius&quot;, gun.origin, 0, 20, 50);
    gun thread brutus_SpinMe();
    gun thread brutus_GiveMe(weapon, trig);
    if(level.brutus_gun_expire == true)
        gun thread brutus_LifeTime(trig);
}
function brutus_LifeTime(trig)
{
    self endon(&quot;death&quot;);
    wait(120);//wait 2 minutes then delete
    if(isdefined(self))
    {
        self notify(&quot;rewardgun_delete&quot;);
    }
    if(isdefined(trig))
    {
        trig delete();
    }
    if(isdefined(self))
    {
        self delete();
    }
}
function brutus_GiveMe(weapon, trig)
{
    self endon(&quot;rewardgun_delete&quot;);
    while(1)
    {
        trig waittill(&quot;trigger&quot;, player);
        player thread brutus_SetGunHint(level.brutus_gun_hintstring, trig);
        if(player HasWeapon(getweapon(&quot;minigun&quot;)))
        {
            continue;
        }
        if(!(player UseButtonPressed()))
        {
            continue;
        }
        if(player laststand::player_is_in_laststand())
        {
            continue;
        }
        trig delete();
        self delete();
        player zm_weapons::weapon_give(getweapon(weapon));
        player SwitchToWeapon(getweapon(weapon));
        break;
        wait(.1);
    }
}

function brutus_SpinMe()
{
    self endon(&quot;rewardgun_delete&quot;);
    self endon(&quot;death&quot;);
    while(isdefined(self))
    {
        if(isdefined(self))
        {
            self rotateyaw(360,2);
        }
        wait(1.9);
    }
}
function brutus_SetGunHint(text, trig)
{
    if(isdefined(self.brutus_gun_hud))
    {
        return;
    }
    self.brutus_gun_hud = NewClientHudElem( self );
    self.brutus_gun_hud.horzAlign = &quot;center&quot;;
    self.brutus_gun_hud.vertAlign = &quot;middle&quot;;
    self.brutus_gun_hud.alignX = &quot;center&quot;;
    self.brutus_gun_hud.alignY = &quot;middle&quot;;
    self.brutus_gun_hud.foreground = 1;
    self.brutus_gun_hud.fontscale = 1;
    self.brutus_gun_hud.alpha = 1;
    self.brutus_gun_hud.color = ( 0.44, .74, .94 );
    self.brutus_gun_hud SetText(text);
    while(isdefined(trig) &amp;&amp; self IsTouching(trig))
    {
        wait(.05);
    }
    self.brutus_gun_hud SetText(&quot;&quot;);
    self.brutus_gun_hud Destroy();
    self.brutus_gun_hud = undefined;
}{% endhighlight %}
</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">modric1337</span></span>:</strong>

<p>door_parts = GetEntArray(&quot;brutus_door&quot;,&quot;targetname&quot;);    is a preset reward for beating the boss, so use that targetname on the door(s) you want opened (clip and model)... as for hiding it you would have to make the door_parts hidden using Hide() earlier in the script and then do Show() when you anticipate players starting the boss.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Pepergogo</span></span>:</strong>

<p><blockquote>door_parts = GetEntArray(&quot;brutus_door&quot;,&quot;targetname&quot;);    is a preset reward for beating the boss, so use that targetname on the door(s) you want opened (clip and model)... as for hiding it you would have to make the door_parts hidden using Hide() earlier in the script and then do Show() when you anticipate players starting the boss.<br /></blockquote><br />But for use &quot;Hide()&quot;, do I need to write something like &quot;Hide(brutus_door, targetname)&quot; or different?</p>
