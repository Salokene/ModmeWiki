# Checking if a trigger has been used, Scripting.
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">369</span></span>:</strong>

<p>Hello,<br /><br />So i don&#39;t quite understand how if statements can be used, if i got it correctly a if statement always needs to recall a variable, which is made out of a true or false statement.<br />Then my qeustion is, how do you define the true or false if that makes any sense. For example, i want the if statement to check if a trigger has been used, and then run the code.<br /><br />I&#39;m a total scrub in scripting, any help is greatly appreciated!<br /><br /><br />{% highlight php %}
function darkmodetorch()
{
    monkeyt1 = GetEnt(&quot;monkey1&quot;, &quot;targetname&quot;);
    monkeyt1 SetHintString(&quot;Find Flashlight First&quot;);
    monkeyt1 SetCursorHint(&quot;HINT_NOICON&quot;);
   
    level waittill(&quot;power_on&quot;);

    while(1)
    {
        monkeyt1 SetHintString(&quot;Extra Spooky&quot;);
        monkeyt1 SetCursorHint(&quot;HINT_NOICON&quot;);
        monkeyt1 waittill(&quot;trigger&quot;, player);

        level util::set_lighting_state(3);
        wait 0.05;

        monkeyt1 SetHintString(&quot;&quot;);
        monkeyt1 SetCursorHint(&quot;HINT_NOICON&quot;);


        if level.monkeyt2 (&quot;trigger&quot;, player);  [This code is what i want the if statement to check.]
        {
            monkeyt1 SetHintString(&quot;Extra Spooky&quot;);
            monkeyt1 SetCursorHint(&quot;HINT_NOICON&quot;);
        }
        else level.monkeyt2 (&quot;trigger&quot;, player); [Same with this one, i guess?]
        {

            monkeyt1 SetHintString(&quot;Extra Spooky&quot;);
            monkeyt1 SetCursorHint(&quot;HINT_NOICON&quot;);
        }

    }
}{% endhighlight %}
</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Spiki</span></span>:</strong>

<p>{% highlight php %}
monkeyt1 waittill(&quot;trigger&quot;, player);{% endhighlight %}
</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">369</span></span>:</strong>

<p><blockquote>{% highlight php %}
monkeyt1 waittill(&quot;trigger&quot;, player);{% endhighlight %}
</blockquote><br />Doesn&#39;t a waittill stop the rest of the code from running? Will give it a try in a few.<br />For some clarification, i got 2 lightswitches, i want one to say that its off when the other is turned on and vice versa.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Spiki</span></span>:</strong>

<p><blockquote>Doesn&#39;t a waittill stop the rest of the code from running? Will give it a try in a few.<br />For some clarification, i got 2 lightswitches, i want one to say that its off when the other is turned on and vice versa.<br /></blockquote><br />It does stop the code but you cant check for trigger another way, atleast on a noob level<br /><br />This should do it. Never tested.<br />[CODE=clike]<br />function lightswitches()<br />{<br />monkeyt1 = GetEnt(&quot;monkey1&quot;, &quot;targetname&quot;);<br />monkeyt2 = GetEnt(&quot;monkey2&quot;, &quot;targetname&quot;);<br /><br /><br />monkeyt1 SetHintString(&quot;Find Flashlight First&quot;);<br />monkeyt1 SetCursorHint(&quot;HINT_NOICON&quot;);<br />monkeyt2 SetHintString(&quot;Find Flashlight First&quot;);<br />monkeyt2 SetCursorHint(&quot;HINT_NOICON&quot;);<br /><br />level waittill(&quot;power_on&quot;);<br /><br />monkeyt1 thread setup_lightswitch(monkeyt2);<br />monkeyt2 thread setup_lightswitch(monkeyt1);<br /><br /><br />}<br /><br /><br />function setup_lightswitch(other_switch) //self = switch trigger<br />{<br />if(!isdefined(self))<br />    IPrintLnBold(&quot;Oopsie: Switch doesn&#39;t exist&quot;);<br /><br />while(1)<br />    {<br />    self waittill(&quot;trigger&quot;, player);<br />    self SetHintString(&quot;Switch on&quot;);<br />    other_switch SetHintString(&quot;Switch off&quot;);<br />    }<br /><br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">369</span></span>:</strong>

<p><blockquote>This should do it. Never tested.<br /></blockquote><br /><br />Thank you alot , it works great. But i have to switch through 3 lightstates, so i don&#39;t think i could implement that in that code. I&#39;ll just keep it simple. I will use this code in a simple elevator though, last time i tried i couldn&#39;t get it to work vice versa so major thanks man!</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Spiki</span></span>:</strong>

<p><blockquote>Thank you alot , it works great. But i have to switch through 3 lightstates, so i don&#39;t think i could implement that in that code. I&#39;ll just keep it simple. I will use this code in a simple elevator though, last time i tried i couldn&#39;t get it to work vice versa so major thanks man!<br /></blockquote><br />like so<br />[CODE=clike]function setup_lightswitch(other_switch) //self = switch trigger<br />{<br />if(!isdefined(self))<br />    IPrintLnBold(&quot;Oopsie: Switch doesn&#39;t exist&quot;);<br /><br />while(1)<br />    {<br />    self waittill(&quot;trigger&quot;, player);<br />    self SetHintString(&quot;Switch on&quot;);<br />    other_switch SetHintString(&quot;Switch off&quot;);<br /><br />    if(self == GetEnt(&quot;monkey1&quot;, &quot;targetname&quot;))<br />        level SetLightingState(1);<br />    else<br />        level SetLightingState(2);<br />       <br />    }<br /><br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">369</span></span>:</strong>

<p><blockquote>like so<br />[CODE=clike]<br /><br />    if(self == GetEnt(&quot;monkey1&quot;, &quot;targetname&quot;))<br />        level SetLightingState(1);<br />    else<br />        level SetLightingState(2);<br />     <br />    }<br /><br />}[/CODE]<br /></blockquote><br />Thank you SOO much man. This just doubled my possibilities haha. I&#39;ve made the code but i keep getting a syntax error now. I have no clue why, also not sure if it will work in the first place since i done a couple things like threading function within functions? I suck at explaining.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">369</span></span>:</strong>

<p>{% highlight php %}
function setup_lightswitch(other_switch) //self = switch trigger
{
if(!isdefined(self))
    IPrintLnBold(&quot;Oopsie: Switch doesn&#39;t exist&quot;);

while(1)
    {

    monkeyt1 SetHintString(&quot;Spooky Mode&quot;);
    monkeyt2 SetHintString(&quot;&quot;);

    monkeyt1 waittill(&quot;trigger&quot;, player);

    level util::set_lighting_state(2);

    monkeyt1 SetHintString(&quot;Aziz, Light!&quot;)
    monkeyt2 SetHintString(&quot;Extra Spooky Mode&quot;);  &lt;--- This line is the 194th

    self waittill(&quot;trigger&quot;, player);

    self thread setup_lightswitch3();

    monkeyt1 thread setup_lightswitch3();

    self waittill(&quot;trigger&quot;, player);

    if(self == GetEnt(&quot;monkey&quot;, &quot;targetname&quot;))
    level util::set_lighting_state(1);
    }

}


^1    monkeyt2 SetHintString
^1-------------------------^
^1ERR(0) scripts/zm/zm_boyafa.gsc (194,26) in &quot;setup_lightswitch()&quot; : syntax error, unexpected TOKEN_IDENTIFIER, expecting TOKEN_LEFT_PAREN :     monkeyt2 SetHintString {% endhighlight %}
</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">369</span></span>:</strong>

<p>Full code : <a href="https://pastebin.com/QQ9VFHQB">https://pastebin.com/QQ9VFHQB</a><br /><br />Fixed it: <a href="https://pastebin.com/bCb1tej0">https://pastebin.com/bCb1tej0</a></p>
