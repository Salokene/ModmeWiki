# Random/Player-Specific Starting Weapons
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: Ducky<br />Huge thanks to HarryBO21 for helping me work out where to place the code for it to be overwriting the default setup.<br /> <br />Each player gets a different weapon as opposed to Kyassuru style random weapon from pool.<br /> <br /><strong>Instructions:</strong><br /> <br /> <br />&lt;ol&gt;&lt;li&gt;Copy [CODE=php]zm_usermap.gsc[/CODE] from [CODE=php]root\share\raw\scripts\zm into root\usermaps[mapname].gsc\scripts\zm[/CODE]&lt;/li&gt;<br />&lt;li&gt;Open the script file and navigate to [CODE=php]function giveCustomLoadout[/CODE] and replace the entire function with the following code:&lt;/li&gt;<br />&lt;/ol&gt; <br />[CODE=php]function giveCustomLoadout( takeAllWeapons, alreadySpawned ){[/CODE]<br />[CODE=php]    if(!isDefined(level.weapons) || level.weapons.size&lt;1){[/CODE]<br />[CODE=php]        //DEFINE YOUR WEAPONS HERE[/CODE]<br />[CODE=php]        level.weapons = [];[/CODE]<br />[CODE=php]        level.weapons[0] = &quot;WEAPON_1&quot;; //Dempsey[/CODE]<br />[CODE=php]        level.weapons[1] = &quot;WEAPON_2&quot;; //Takeo[/CODE]<br />[CODE=php]        level.weapons[2] = &quot;WEAPON_3&quot;; //Richtofen[/CODE]<br />[CODE=php]        level.weapons[3] = &quot;WEAPON_4&quot;; //Nikolai[/CODE]<br />[CODE=php]        }[/CODE]<br /><br />[CODE=php]    weapon = getWeapon(level.weapons[self.characterIndex]);[/CODE]<br />[CODE=php]    self giveWeapon(level.weaponBaseMelee);[/CODE]<br />[CODE=php]    //self zm_utility::give_start_weapon(true);[/CODE]<br />[CODE=php]    self zm_weapons::weapon_give(weapon, false, false, true, 1);[/CODE]<br />[CODE=php]}[/CODE]<br /> <br />3. Replace the four weapon names (e.g. [CODE=php]&quot;WEAPON_1&quot;[/CODE]) with the four the  weapons (their weaponfile names/what you put after [CODE=php]weapon,[/CODE] in the zone file) you want s to spawn with (e.g. [CODE=php]lmg_slowfire[/CODE]).<br />4. Open [CODE=php][mapname].gsc[/CODE] and add [CODE=php]#using scripts\zm\zm_usermap;[/CODE] to the top of the file with the rest of the [CODE=php]#using[/CODE]&#39;s.<br />5. In the [CODE=php]function main()[/CODE] of [CODE=php][mapname].gsc[/CODE] add [CODE=php]zm_usermap::main();[/CODE]<br />6. Open [CODE=php][mapname].zone[/CODE] and add [CODE=php]scriptparsetree,scripts/zm/zm_usermap.gsc[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Unity_N<br />For step 6, shouldn&#39;t you paste that line of code in mapname.zone instead of mapname.gsc?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: itznvy<br />Is it possible for you to script where each character has their own randomized weapon? For example Dempsey may spawn with an m1911, but Nikolai may spawn with a Mauser.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Ducky<br /><blockquote><em>itznvy</em><br />Is it possible for you to script where each character has their own randomized weapon? For example Dempsey may spawn with an m1911, but Nikolai may spawn with a Mauser.</blockquote><br /> Unless I&#39;m misunderstanding you, that&#39;s exactly what this script does.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Ducky<br /><blockquote><em>Unity_N</em><br />For step 6, shouldn&#39;t you paste that line of code in mapname.zone instead of mapname.gsc?</blockquote><br /> Good spot, thanks. I&#39;ve fixed it.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: The Black Death<br /><blockquote><em>Ducky</em><br />itznvy Is it possible for you to script where each character has their own randomized weapon? For example Dempsey may spawn with an m1911, but Nikolai may spawn with a Mauser.  Unless I&#39;m misunderstanding you, that&#39;s exactly what this script does.</blockquote><br /> I think he means that each character gets their own random weapon pool.<br /> <br />if so:<br />I tweaked it a bit to result in this.<br /> <br />Under <br />[CODE=php]//DEFINE YOUR WEAPONS HERE[/CODE]<br /> <br />Put:<br />[CODE=php]//this tweak should work but I probably messed up. Don&#39;t bite my head off if I did, I&#39;ll fix it.<br />		<br />		// ************** Dempsey Weapon Pool<br />		level.weaponPoolDempsey = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolDempsey[0] = &quot;weapon here&quot;;<br />		level.weaponPoolDempsey[1] = &quot;weapon here&quot;;<br />		// **************<br />		<br />		// ************** Takeo Weapon Pool<br />		level.weaponPoolTakeo = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolTakeo[0] = &quot;weapon here&quot;;<br />		level.weaponPoolTakeo[1] = &quot;weapon here&quot;;<br />		// **************<br />		<br />		// ************** Richtofen Weapon Pool<br />		level.weaponPoolRichtofen = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolRichtofen[0] = &quot;weapon here&quot;;<br />		level.weaponPoolRichtofen[1] = &quot;weapon here&quot;;<br />		// **************<br />		<br />		// ************** Nikolai Weapon Pool<br />		level.weaponPoolNikolai = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolNikolai[0] = &quot;weapon here&quot;;<br />		level.weaponPoolNikolai[1] = &quot;weapon here&quot;;<br />		// **************[/CODE]<br /> <br />The code provides information on how to use the pool, by the way.<br /> <br />Now, replace:<br />[CODE=php]        level.weapons[0] = &quot;WEAPON_1&quot;; //Dempsey<br />        level.weapons[1] = &quot;WEAPON_2&quot;; //Takeo<br />        level.weapons[2] = &quot;WEAPON_3&quot;; //Richtofen<br />        level.weapons[3] = &quot;WEAPON_4&quot;; //Nikolai[/CODE]<br /> <br />with:<br />[CODE=php]        level.weapons[0] = level.weaponPoolDempsey[RandomIntRange(0, level.weaponPoolDempsey.size)]; //Dempsey<br />        level.weapons[1] = level.weaponPoolTakeo[RandomIntRange(0, level.weaponPoolTakeo.size)]; //Takeo<br />        level.weapons[2] = level.weaponPoolRichtofen[RandomIntRange(0, level.weaponPoolRichtofen.size)]; //Richtofen<br />        level.weapons[3] = level.weaponPoolNikolai[RandomIntRange(0, level.weaponPoolNikolai.size)]; //Nikolai[/CODE]<br /> <br /> <br />if this was what you needed, hopefully I helped. :)<br /> <br />&lt;em&gt;I probably messed up the code due to my little experience with GSC, but you never know...&lt;/em&gt;</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Ducky<br />Yeah, that looks like it if that&#39;s what they meant.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: itznvy<br />That&#39;s what i meant. I tried that script and i spawned in without a weapon. This is what i put in zm_usermap.gsc<br />Tell me if there&#39;s any issues as I really don&#39;t know how to script<br />[CODE=php]function giveCustomLoadout( takeAllWeapons, alreadySpawned )<br />{<br />if(!isDefined(level.weapons) || level.weapons.size&lt;1)<br />level.weapons = [];<br />// ************** Dempsey Weapon Pool<br />		level.weaponPoolDempsey = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolDempsey[0] = &quot;bo1_m1911&quot;;<br />		level.weaponPoolDempsey[1] = &quot;mw2_g18&quot;;<br />		// **************<br />		<br />		// ************** Takeo Weapon Pool<br />		level.weaponPoolTakeo = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolTakeo[0] = &quot;bo1_m1911&quot;;<br />		level.weaponPoolTakeo[1] = &quot;mw2_g18&quot;;<br />		// **************<br />		<br />		// ************** Richtofen Weapon Pool<br />		level.weaponPoolRichtofen = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolRichtofen[0] = &quot;bo1_m1911&quot;;<br />		level.weaponPoolRichtofen[1] = &quot;mw2_g18&quot;;<br />		// **************<br />		<br />		// ************** Nikolai Weapon Pool<br />		level.weaponPoolNikolai = [];<br />		//Duplicate the line below and change 0, 1, etc to the next consecutive number. so if I wanted a third weapon to be chosen from it&#39;d be 2, then a 4th would be 3, etc. Change weapon here to your weapon name. Same rules apply here for weapon name to put in as in the original script.<br />		level.weaponPoolNikolai[0] = &quot;bo1_m1911&quot;;<br />		level.weaponPoolNikolai[1] = &quot;mw2_g18&quot;;<br />		// **************<br />		level.weapons[0] = level.weaponPoolDempsey[RandomIntRange(0, level.weaponPoolDempsey.size)]; //Dempsey<br />        level.weapons[1] = level.weaponPoolTakeo[RandomIntRange(0, level.weaponPoolTakeo.size)]; //Takeo<br />        level.weapons[2] = level.weaponPoolRichtofen[RandomIntRange(0, level.weaponPoolRichtofen.size)]; //Richtofen<br />        level.weapons[3] = level.weaponPoolNikolai[RandomIntRange(0, level.weaponPoolNikolai.size)]; //Nikolai<br />}<br />[/CODE]</p>
