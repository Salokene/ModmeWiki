# Make sound play from multiple structs?
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: Exofile<br />I got some help to set up a script &lt;em&gt;( Figure 1. )&lt;/em&gt; that plays one of 5 songs from a struct &lt;em&gt;( Figure 2. )&lt;/em&gt;<br />I need it to play from two structs that I have, but upon testing ingame it&#39;ll only play from one struct, then upon next activation from another, never really playing the same song on both structs at once.<br />My question is, what am I doing wrong? Could it have something to do with the soundalias settings? &lt;em&gt;( Figure 3. )&lt;/em&gt;<br /> <br />Figure 1.<br /><br />
[CODE=php]function amb_radio()<br />{<br />    radio = struct::get_array(&quot;ambient_radio&quot;, &quot;targetname&quot;); //can be any &quot;physical&quot; entity type (struct included)<br />	trigger = getEnt(&quot;exo_bio_radio_1&quot;, &quot;targetname&quot;);<br />	possible_songs = StrTok(radio[0].script_string, &quot;,&quot;);<br />    for(;;)<br />	{<br />		trigger waittill(&quot;trigger&quot;, player);<br />		IPrintLn( &quot;Player Entered&quot; );<br />		wait(0.1);<br />		song = possible_songs[RandomIntRange(0, possible_songs.size)];<br />		IPrintLn( song );<br />		foreach(struct in radio)<br />        {<br />            struct PlaySound( song );<br />        }<br />		wait(204);<br />		IPrintLn( &quot;Song done&quot; );<br />        wait(RandomIntRange(30, 60));<br />		IPrintLn( &quot;Wait done&quot; );<br />    }<br />}[/CODE]<br />
<br /><br /> <br />Figure 2.<br /><br />
<img style="max-width: 500px;" src="http://i.imgur.com/1gWNeDJ.png">
<br /><br /> <br />Figure 3.<br /><br />
[CODE=php]Name,Behavior,Storage,FileSpec,FileSpecSustain,FileSpecRelease,Template,Loadspec,Secondary,SustainAlias,ReleaseAlias,Bus,VolumeGroup,DuckGroup,Duck,ReverbSend,CenterSend,VolMin,VolMax,DistMin,DistMaxDry,DistMaxWet,DryMinCurve,DryMaxCurve,WetMinCurve,WetMaxCurve,LimitCount,LimitType,EntityLimitCount,EntityLimitType,PitchMin,PitchMax,PriorityMin,PriorityMax,PriorityThresholdMin,PriorityThresholdMax,AmplitudePriority,PanType,Pan,Futz,Looping,RandomizeType,Probability,StartDelay,EnvelopMin,EnvelopMax,EnvelopPercent,OcclusionLevel,IsBig,DistanceLpf,FluxType,FluxTime,Subtitle,Doppler,ContextType,ContextValue,ContextType1,ContextValue1,ContextType2,ContextValue2,ContextType3,ContextValue3,Timescale,IsMusic,IsCinematic,FadeIn,FadeOut,Pauseable,StopOnEntDeath,Compression,StopOnPlay,DopplerScale,FutzPatch,VoiceLimit,IgnoreMaxDist,NeverPlayTwice,ContinuousPan,FileSource,FileSourceSustain,FileSourceRelease,FileTarget,FileTargetSustain,FileTargetRelease,Platform,Language,OutputDevices,PlatformMask,WiiUMono,StopAlias,DistanceLpfMin,DistanceLpfMax,FacialAnimationName,RestartContextLoops,SilentInCPZ,ContextFailsafe,GPAD,GPADOnly,MuteVoice,MuteMusic,RowSourceFileName,RowSourceShortName,RowSourceLineNumber<br />test_sound,,,tst\test_sound.wav,,,UIN_MOD,,,,,,,,,,,80,80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,<br />exo_bio_radio_0,,,exo_bio\exo_bio_radio_0.wav,,,UIN_MOD,,,,,bus_music,,,,0,0,100,100,0,800,801,,,,,0,none,,,,,,,,,,3d,,,NONLOOPING,,,0,0,0,0,,,,,,,,,,,,,,,,,yes,,,,yes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,<br />exo_bio_radio_1,,,exo_bio\exo_bio_radio_1.wav,,,UIN_MOD,,,,,bus_music,,,,0,0,100,100,0,800,801,,,,,0,none,,,,,,,,,,3d,,,NONLOOPING,,,0,0,0,0,,,,,,,,,,,,,,,,,yes,,,,yes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,<br />exo_bio_radio_2,,,exo_bio\exo_bio_radio_2.wav,,,UIN_MOD,,,,,bus_music,,,,0,0,100,100,0,800,801,,,,,0,none,,,,,,,,,,3d,,,NONLOOPING,,,0,0,0,0,,,,,,,,,,,,,,,,,yes,,,,yes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,<br />exo_bio_radio_3,,,exo_bio\exo_bio_radio_3.wav,,,UIN_MOD,,,,,bus_music,,,,0,0,100,100,0,800,801,,,,,0,none,,,,,,,,,,3d,,,NONLOOPING,,,0,0,0,0,,,,,,,,,,,,,,,,,yes,,,,yes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,<br />exo_bio_radio_4,,,exo_bio\exo_bio_radio_4.wav,,,UIN_MOD,,,,,bus_music,,,,0,0,100,100,0,800,801,,,,,0,none,,,,,,,,,,3d,,,NONLOOPING,,,0,0,0,0,,,,,,,,,,,,,,,,,yes,,,,yes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,<br />[/CODE]<br />
</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Exofile<br />Got it working thanks to some help from Ege115.<br /> <br />I switched my script_structs into script_origins, keeping the same KVP&#39;s and edited the function a tad bit to fit script_origi.<br /> <br />Working function<br />[CODE=php]function amb_radio()<br />{<br />    radio = getEntArray(&quot;ambient_radio&quot;, &quot;targetname&quot;);<br />	trigger = getEnt(&quot;exo_bio_radio_1&quot;, &quot;targetname&quot;);<br />	possible_songs = StrTok(radio[0].script_string, &quot;,&quot;);<br />    for(;;)<br />	{<br />		trigger waittill(&quot;trigger&quot;, player);<br />		IPrintLn( &quot;Player Entered&quot; );<br />		wait(0.1);<br />		song = possible_songs[RandomIntRange(0, possible_songs.size)];<br />		IPrintLn( song );<br />		for(i=0;i&lt;radio.size;i++) {=&quot;&quot; radio<em>=&quot;&quot; playsound(song);=&quot;&quot; }=&quot;&quot; wait(204);=&quot;&quot; iprintln(=&quot;&quot; &quot;song=&quot;&quot; done&quot;=&quot;&quot; );=&quot;&quot; wait(randomintrange(30,=&quot;&quot; 60));=&quot;&quot; iprintln(=&quot;&quot; &quot;wait=&quot;&quot; done&quot;=&quot;&quot; );=&quot;&quot; }=&quot;&quot;&gt;&lt;/radio.size;i++)&gt;[/CODE]</em></p>
