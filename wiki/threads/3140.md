# Deleting a prefab entity
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">BryceiBoi</span></span>:</strong>

<p>Hi all, new to the forums here. Lots of very useful information! :)<br /><br />I&#39;m having a small issue of my own so I&#39;ll just give a little bit of context to the functionality I&#39;d like to implement (it&#39;s rather simple, really). Basically, there is a zombie door I have which once opened allows players to enter a Zone in which consists of &#39;x&#39; Zombie spawners that scripted to enter through &#39;y&#39; zombie barriers. These barriers lead into the starting zone! SO, I would like to delete said &#39;y&#39; zombie barriers to enable players to jump through these windows to easily enter-exit the starting zone. This is what I&#39;m having issues with - my delete() wont delete the barriers. I was wondering if this had anything to do with zombie barriers being prefabs? It&#39;s got to be something extremely simple that I&#39;m misunderstanding I assume :cry:<br /><br />[CODE=cpp]<br /><br />spawners = GetEntArray(&quot;start_zone_spawners&quot;, targetname);<br />zombie_barriers = GetEntArray(&quot;start_zone_barriers&quot;, targetname); // these are the zombie barriers (prefabs) I want to delete<br /><br />said_zombie_door = GetEnt(&quot;door_trigger&quot;, &quot;triggerId&quot;) // custom KVP<br /><br />said_zombie_door waittill(&quot;trigger&quot;);<br />spawners[0] delete(); // this works<br />spawners[1] delete(); // this works<br /><br />for( i = 0; i &lt; zombie_barriers.size; i++ ) {<br />    zombie_barriers<em>delete(); // This doesn&#39;t work?<br />}<br />[/CODE]</em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Spiki</span></span>:</strong>

<p>The barricades are Zbarriers not entities. Also it wouldnt help to delete them bacause the prefab has a static clip in it which would stop movement anyway.<br /><br />{% highlight php %}
GetZBarrierArray(){% endhighlight %}
is what you want</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">BryceiBoi</span></span>:</strong>

<p><blockquote>The barricades are Zbarriers not entities. Also it wouldnt help to delete them bacause the prefab has a static clip in it which would stop ovement anyway.<br /><br />{% highlight php %}
GetZBarrierArray(){% endhighlight %}
is what you want<br /></blockquote><br /><br />That does sound like the function I need to utilise. Another question though, how can I identify which ZBarrier in the Array is the one I need to remove? Can I access the value of a KVP by simply using the dot operator?  For example:<br />[CODE=cpp]// barrier I want removed in Radiant is given KVP: (&quot;zbarriername&quot;, &quot;barrier_i_want_deleted&quot;)<br /><br />array = GetZBarrierArray();<br /><br />for (i = 0; i &lt; array.size; i++) {<br />    if (array<em>.zbarriername == &quot;barrier_i_want_deleted&quot;) {<br />        array<em>delete();<br />    }<br />}[/CODE]<br /><br />Alternatively, I guess I could just do some vigorous trial and error to find which array index is the one I need :ROFLMAO:</em></em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">Spiki</span></span>:</strong>

<p><blockquote>That does sound like the function I need to utilise. Another question though, how can I identify which ZBarrier in the Array is the one I need to remove? Can I access the value of a KVP by simply using the dot operator?  For example:<br />[CODE=cpp]// barrier I want removed in Radiant is given KVP: (&quot;zbarriername&quot;, &quot;barrier_i_want_deleted&quot;)<br /><br />array = GetZBarrierArray();<br /><br />for (i = 0; i &lt; array.size; i++) {<br />    if (array<em>.zbarriername == &quot;barrier_i_want_deleted&quot;) {<br />        array<em>delete();<br />    }<br />}[/CODE]<br /><br />Alternatively, I guess I could just do some vigorous trial and error to find which array index is the one I need :ROFLMAO:<br />[/QUOTE]<br />you cant slap just any kvp. check attachment.<br />use script_string<br />also you use GetZBarrierArray() like getentarray()</em></em></blockquote></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">BryceiBoi</span></span>:</strong>

<p>Ok, so I&#39;ve almost got this! I can get the ZBarrier and delete it with delete() however the clip remains there so I cant walk through where the barrier once was. Any ideas?<br /><br />[CODE=cpp]    zBarriers = GetZBarrierArray();<br />    for (i = 0; i &lt; zBarriers.size; i++) {<br />        barrier_name = zBarriers<em>.script_string;<br />        if (barrier_name == &quot;window_1&quot;) {<br />            zBarriers<em>delete(); // deletes model but clip is still there?<br />            break;<br />        }       <br />    }[/CODE]</em></em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">BryceiBoi</span></span>:</strong>

<p>Managed to resolve the problem by deleting the player clip from the ZBarrier prefab (barricade_reciever_wood.map) and adding the clip outside of the prefab manually. Then in the script just not only deleting the ZBarrier object, but also the clip separately:<br /><br />[CODE=cpp]    zBarriers = GetZBarrierArray();<br />    clip = GetEnt(&quot;window_1_clip&quot;, &quot;script_string&quot;);<br />    for (i = 0; i &lt; zBarriers.size; i++) {<br />        barrier_name = zBarriers<em>.script_string;<br />        if (barrier_name == &quot;window_1&quot;) {<br />            zBarriers<em>delete();<br />            clip delete();<br />            break;<br />        }       <br />    }[/CODE]<br /><br />Cheers for the help Spiki :)</em></em></p>
