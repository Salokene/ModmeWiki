# Shoot 3 targets with a packed gun to open a door
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: modric<br />Need help finding a script for a shootable ee that opens a door but i want the targets to only trigger if the weapon used is pack a punched</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Sphynx<br />I made a script for you that checks how many triggers there are and if the weapon is upgraded:<br /><br />The trigger names can be adjusted to whatever you like. If you want level. makes it so you can use the variables in other scripts too.<br /><br /><br />[CODE=php]#using scripts\codescripts\struct;[/CODE]<br />[CODE=php]#using scripts\shared\array_shared;[/CODE]<br />[CODE=php]#using scripts\shared\callbacks_shared;[/CODE]<br />[CODE=php]#using scripts\shared\clientfield_shared;[/CODE]<br />[CODE=php]#using scripts\shared\compass;[/CODE]<br />[CODE=php]#using scripts\shared\exploder_shared;[/CODE]<br />[CODE=php]#using scripts\shared\flag_shared;[/CODE]<br />[CODE=php]#using scripts\shared\laststand_shared;[/CODE]<br />[CODE=php]#using scripts\shared\math_shared;[/CODE]<br />[CODE=php]#using scripts\shared\scene_shared;[/CODE]<br />[CODE=php]#using scripts\shared\util_shared;[/CODE]<br />[CODE=php]#using scripts\shared\flagsys_shared;[/CODE]<br />[CODE=php]#using scripts\shared\trigger_shared;[/CODE]<br />[CODE=php]#insert scripts\shared\shared.gsh;[/CODE]<br />[CODE=php]#insert scripts\shared\version.gsh;[/CODE]<br />[CODE=php]#insert scripts\zm\_zm_utility.gsh;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_score;[/CODE]<br />[CODE=php]#using scripts\zm\_load;[/CODE]<br />[CODE=php]#using scripts\zm\_zm;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_audio;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_powerups;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_utility;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_weapons;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_zonemgr;[/CODE]<br />[CODE=php]#using scripts\zm\_zm_perks;[/CODE]<br /><br />[CODE=php]function init (){[/CODE]<br />[CODE=php]level.shottriggersteddy = 0;[/CODE]<br />[CODE=php]level.neededtriggersteddy = 9;[/CODE]<br />[CODE=php]thread inittriggers();[/CODE]<br />[CODE=php]thread checkfinish();[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]function checkfinish () {[/CODE]<br />[CODE=php]done = false;[/CODE]<br />[CODE=php]while(done == false){[/CODE]<br />[CODE=php]if(level.shottriggersteddy &gt;= level.neededtriggersteddy){[/CODE]<br />[CODE=php]done = true;[/CODE]<br />[CODE=php]IPrintLNBold(&quot;All triggers were activated!&quot;);[/CODE]<br />[CODE=php]//level util::set_lighting_state( 1 );[/CODE]<br />[CODE=php]//do stuff here that happens once and not per player![/CODE]<br />[CODE=php]door_models = getEntArray( &quot;soulbox_model&quot; , &quot;targetname&quot;);[/CODE]<br />[CODE=php]door_clips = getentArray( &quot;soulbox_clip&quot; , &quot;targetname&quot;);[/CODE]<br />[CODE=php]foreach(clip in door_clips){ //For each clip in door_clips it will thread clipremove()[/CODE]<br />[CODE=php] clip thread clipremove(); //Thread clipremove();[/CODE]<br />[CODE=php] }[/CODE]<br /><br />[CODE=php] foreach(model in door_models){ //For each model in door_models it will thread doorremove()[/CODE]<br />[CODE=php] model thread doorremove(); //Thread doorremove();[/CODE]<br />[CODE=php] }[/CODE]<br />[CODE=php]players = GetPlayers();[/CODE]<br />[CODE=php]for (i = 0; i &lt; players.size; i++)[/CODE]<br />[CODE=php]{[/CODE]<br />[CODE=php]players<em>playSound(&quot;sound_name_here&quot;);[/CODE]<br />[CODE=php]//Do stuff here Like set another lightingstate, add points to players or add perk to players[/CODE]<br />[CODE=php]//players<em>zm_perks::give_perk(&quot;specialty_widows_wine&quot;);[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]wait (.05);[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]function inittriggers(){[/CODE]<br />[CODE=php]wait(40);[/CODE]<br />[CODE=php]level.triggersteddy = getentarray( &quot;trigger_teddybear&quot; , &quot;targetname&quot;);[/CODE]<br />[CODE=php]foreach(trigger in level.triggersteddy){[/CODE]<br />[CODE=php]trigger thread CheckTrigger();[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]function CheckTrigger (){[/CODE]<br />[CODE=php]while(1)[/CODE]<br />[CODE=php]{[/CODE]<br />[CODE=php]self waittill(&quot;trigger&quot;, player);[/CODE]<br />[CODE=php]self setcursorhint(&quot;HINT_NOICON&quot;);[/CODE]<br />[CODE=php]weapon = player getCurrentWeapon();[/CODE]<br />[CODE=php]if( zm_weapons::is_weapon_upgraded( weapon ) )[/CODE]<br />[CODE=php]{[/CODE]<br />[CODE=php]IPrintLNBold(&quot;Trigger shot!&quot;);[/CODE]<br />[CODE=php]players = GetPlayers();[/CODE]<br />[CODE=php]for (i = 0; i &lt; players.size; i++)[/CODE]<br />[CODE=php]{[/CODE]<br />[CODE=php]players<em>playSound(&quot;ear_ring&quot;);[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]//Do stuff[/CODE]<br />[CODE=php]level.shottriggersteddy++;[/CODE]<br />[CODE=php]self Delete();[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]function doorremove () { //Wallbreak will delete the model[/CODE]<br />[CODE=php] wallbreaktime = 1;[/CODE]<br />[CODE=php] self moveto ((self.origin - (0,0,-400)), wallbreaktime);[/CODE]<br />[CODE=php] wait wallbreaktime;[/CODE]<br />[CODE=php] self Delete();[/CODE]<br />[CODE=php]}[/CODE]<br />[CODE=php]function clipremove () { //Wallbreak will delete the model[/CODE]<br />[CODE=php] wallbreaktime = 1;[/CODE]<br />[CODE=php] wait wallbreaktime;[/CODE]<br />[CODE=php] self Delete();[/CODE]<br />[CODE=php]}[/CODE]</em></em></em></p>
