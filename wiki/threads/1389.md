# Shoot triggers with certain upgraded gun
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: simplyzak09<br />Hi,<br />I&#39;m trying to add a feature to a map I&#39;m working on that if the player keeps and upgrades their starting weapon and shoots 3 perk bottles around the map then a door will open allowing them to access jug.<br />I have looked up example and such from other scripts and stuff to see how it is done and written up this, however in game it doesn&#39;t work nothing happens when the trigger is shot.<br />Link to code I was using to build off of:<a href="https://pastebin.com/iru9hwX8">https://pastebin.com/iru9hwX8</a><br /> <br />[CODE=php]function eeJug()<br />{<br />    level.itemsRequired = 3; //change to number of shootable objects<br />    level.itemsCollected = 0;<br />    level thread bottle1();<br />    level thread bottle2();<br />    level thread bottle3();<br />    //Add additional items here<br />	<br />}<br /> <br />function bottle1()<br />{<br />    trigs1 = GetEnt(&quot;ee_trig1&quot;, &quot;targetname&quot;);<br />    objs1 = GetEnt(&quot;ee_obj1&quot;, &quot;targetname&quot;);<br />    <br />    while(1)<br />    {<br />        trigs1 waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />     if( weapon == GetWeapon(&quot;mc96_upgraded&quot;))<br />		 {<br />			level.itemsCollected++;<br />        thread eeCheckDone2 ();<br />        break;<br />    }<br />    trigs1 Delete();<br />    objs1 Delete();<br />	<br />}<br />}<br />function bottle2()<br />{<br />    trigs2 = GetEnt(&quot;ee_trig2&quot;, &quot;targetname&quot;);<br />    objs2 = GetEnt(&quot;ee_obj2&quot;, &quot;targetname&quot;);<br />    <br />    while(1)<br />    {<br />        trigs2 waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />     if( weapon == GetWeapon(&quot;mc96_upgraded&quot;))<br />		 {<br />			level.itemsCollected++;<br />        thread eeCheckDone2 ();<br />        break;<br />    }<br />    trigs2 Delete();<br />    objs2 Delete();<br />	<br />}<br />} <br />function bottle3()<br />{<br />    trigs3 = GetEnt(&quot;ee_trig3&quot;, &quot;targetname&quot;);<br />    objs3 = GetEnt(&quot;ee_obj3&quot;, &quot;targetname&quot;);<br />    <br />    while(1)<br />    {<br />        trigs3 waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />     if( weapon == GetWeapon(&quot;mc96_upgraded&quot;))<br />		 {<br />			level.itemsCollected++;<br />        thread eeCheckDone2 ();<br />        break;<br />    }<br />    trigs3 Delete();<br />    objs3 Delete();<br />	<br />}<br />}<br />function eeCheckDone2 ()<br />{<br />    while(1)<br />    {<br />        self waittill(level.shootablesCollected &gt;= level.itemsRequired);<br />        if(level.itemsCollected == level.itemsRequired)<br />        {<br />            //self playlocalsound( level.zmb_laugh_alias ); Not working atm<br />            objsDoor = GetEnt(&quot;ee_jug1&quot;, &quot;targetname&quot;);<br />            objsDoor Delete();<br />      }    <br />        break;<br />	}<br />}	<br />[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: xdferpc<br />to be shootable use trigger_damage<br />to be the jug a button uses trigger_use<br /> <br />[CODE=php]function openedoor()<br />{<br />    level.shootable_door_count1 = 0;<br />    shoot = GetEntArray(&quot;shootable_trig&quot;, &quot;targetname&quot;);<br />	<br />	foreach(shooters in shoot)<br />	{<br />	    pulsadores thread opendoor1();<br />	}<br />}<br />function opendoor1()<br />{<br />    <br />    self waittill(&quot;trigger&quot;,player);<br />	perk = getEnt(self.target,&quot;targetname&quot;);<br />	<br />	self delete();<br />	perk Delete();<br />	self.target Delete();<br />	door1 = getEnt(&quot;door1&quot;,&quot;targetname&quot;);<br />	level.shootable_door_count1++;<br />	if(level.shootable_door_count1 == 3) // if you press all the triggers = 3 (You can change it)<br />	{<br />	    door1 delete(); //door open<br />		jug1 = getEnt(&quot;jug1&quot;,&quot;targetname&quot;); <br />		self waittill(&quot;trigger&quot;,player); //pulse the jug<br />	    wait (1);<br />	    jug1 delete();<br />		a_players = getPlayers(); <br />		for ( i = 0; i &lt; a_players.size; i++ )<br />		{<br />			<br />			a_players[ i ] zm_weapons::weapon_give( getWeapon( &quot;mc96_upgraded&quot; ), undefined, undefined, undefined, 1 ); //give weapon<br />	<br />		}<br />	    <br />	}<br />}<br />[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: simplyzak09<br /><blockquote><em>xdferpc</em><br />to be shootable use trigger_damage to be the jug a button uses trigger_use   function openedoor() { level.shootable_door_count1 = 0; shoot = GetEntArray(&quot;shootable_trig&quot;, &quot;targetname&quot;); foreach(shooters in shoot) { pulsadores thread opendoor1(); } } function opendoor1() { self waittill(&quot;trigger&quot;,player); perk = getEnt(self.target,&quot;targetname&quot;); self delete(); perk Delete(); self.target Delete(); door1 = getEnt(&quot;door1&quot;,&quot;targetname&quot;); level.shootable_door_count1++; if(level.shootable_door_count1 == 3) // if you press all the triggers = 3 (You can change it) { door1 delete(); //door open jug1 = getEnt(&quot;jug1&quot;,&quot;targetname&quot;); self waittill(&quot;trigger&quot;,player); //pulse the jug wait (1); jug1 delete(); a_players = getPlayers(); for ( i = 0; i &lt; a_players.size; i++ ) { a_players[ i ] zm_weapons::weapon_give( getWeapon( &quot;mc96_upgraded&quot; ), undefined, undefined, undefined, 1 ); //give weapon } } }</blockquote><br /> This doesn&#39;t work, the script keep throwing out an error about this line<br />[CODE=php] pulsadores thread opendoor1();[/CODE]<br /> <br />the error:<br /> <br />[CODE=php]^1<br />^1^<br />^1ERR(6E) scripts/zm/zm_refresher.gsc (98,0)  : Compiler Internal Error :  Uninitialized local variable &#39;pulsadores&#39;[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: xdferpc<br />sorry men , I have got confused<br />put in that line:<br />[CODE=php]shooters thread opendoor1();[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Symbo<br />You guys should stop using trigger when you need to shoot an object. With <br />[CODE=php]entity SetCanDamage(1);[/CODE]<br />the entity itself can detect damage. It works better and it is more accurate.</p>
