# Steps that rise out of the ground using an array.
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: Dextro62<br /> <br />I have made steps that will rise out of the ground when the player walks through a trigger but Im not sure how to make it work using an array.<br />This is my current code:<br />[CODE=php]function touch_steps1()<br />{<br />	trig = GetEnt(&quot;step1_trig&quot;,&quot;targetname&quot;);<br />	clip = GetEnt (&quot;step1_clip&quot;,&quot;targetname&quot;);<br />	step1 = GetEnt(&quot;step1.1&quot;,&quot;targetname&quot;);<br />	step2 = GetEnt(&quot;step1.2&quot;,&quot;targetname&quot;);<br />	step3 = GetEnt(&quot;step1.3&quot;,&quot;targetname&quot;);<br />	step4 = GetEnt(&quot;step1.4&quot;,&quot;targetname&quot;);<br />	step5 = GetEnt(&quot;step1.5&quot;,&quot;targetname&quot;);<br />	step6 = GetEnt(&quot;step1.6&quot;,&quot;targetname&quot;);<br />	step7 = GetEnt(&quot;step1.7&quot;,&quot;targetname&quot;);<br /><br />	trig waittill (&quot;trigger&quot;,player);<br /><br />	step1 MoveZ (11,1);<br />	step2 MoveZ (22,2);<br />	step3 MoveZ (33,3);<br />	step4 MoveZ (44,4);<br />	step5 MoveZ (55,5);<br />	step6 MoveZ (66,6);<br />	step7 MoveZ (77,7);<br /><br />	player PlaySound (&quot;d_move_10_steps&quot;);<br />	flag::set (trig.script_flag);<br />	trig delete();<br />	wait 7;<br />	<br />	clip delete();<br />	wait 1;<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />You could do something like this:<br /> <br />All the steps would have the targetname<span style="color:#ffff00;">&quot;steps&quot;</span> and the clip would be <span style="color:#ffff00;">&quot;steps_clip&quot;</span>.<br />To the steps you would need to add another KVP called <span style="color:#ffff00;">index </span>and number the steps (first step would be index-0, second would be index-1... (KVP is <span style="color:#ffff00;">index</span>, value is an intiger, starting with 0)).<br /> <br />[CODE=php]increments*steps<em>.index[/CODE]<br /> <br />multiplies the increment variable with the index of the step which makes the whole thing look like stairs.<br /> <br />You could also make the index of each step the value of how much it must rise and change the code to<br />[CODE=php]	steps<em>MoveZ(steps<em>.index,,[acceleration time],[deceleration time]);<br />[/CODE]<br /> <br />&lt;hr&gt;[CODE=php]function steps()<br />{<br />steps = GetEntArray(&quot;steps&quot;,&quot;targetname&quot;);<br />clip = GetEnt(&quot;steps_clip&quot;,&quot;targetname&quot;);<br /><br />increments = 10;<br /><br />for( i=0;i&lt;steps.size;i++ )=&quot;&quot; {=&quot;&quot; steps<em>=&quot;&quot; movez(increments*steps<em>.index,,[acceleration=&quot;&quot; time],[deceleration=&quot;&quot; time]);=&quot;&quot; }=&quot;&quot; clip=&quot;&quot; movez(,,[acceleration=&quot;&quot; time],[deceleration=&quot;&quot; time]);=&quot;&quot;&gt;&lt;/steps.size;i++&gt;[/CODE]<br /> <br /> <br />*Have not tested this.*</em></em></em></em></em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Dextro62<br />Thanks This worked, I changed a bit of it though. This is what I ended up with:<br />[CODE=php]function steps()<br />{<br />	steps = GetEntArray(&quot;steps&quot;,&quot;targetname&quot;);<br />	trig = GetEnt (&quot;steps_trig&quot;,&quot;targetname&quot;); <br /><br />	increments = 11;<br />	time = 1;<br />	trig waittill (&quot;trigger&quot;,player);<br /><br />	player PlaySound(&quot;d_move_10_steps&quot;);<br /><br />	for( i=0;i&lt;steps.size;i++ )=&quot;&quot; {=&quot;&quot; steps<em>=&quot;&quot; movez=&quot;&quot; (increments*steps<em>.index,time);=&quot;&quot; time=&quot;time&quot; +=&quot;&quot; 1;=&quot;&quot; }=&quot;&quot;&gt;&lt;/steps.size;i++&gt;[/CODE]</em></em></p>
