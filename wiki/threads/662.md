# Buyable JumpPads
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: ReKleSs<br />Hello I have normal jump pads, but i dont know how to do buyable jump pad, its when ui go to the jump pad i pay 3000 points and i jump to the other pad. Thanks =)</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: natesmithzombies<br />What jump pad script are you using? I haven&#39;t messed with any yet but last I looked they need to be custom made. Chances are you got it from Redspace and he probably doesnt want his code public on the forum here if he shared it with you privately. If I know what script you are using I can modify it properly for you, but I definitely wont let others work be posted on here without the scripts authors consent.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: ReKleSs<br /><blockquote><em>natesmithzombies</em>What jump pad script are you using? I haven&#39;t messed with any yet but last I looked they need to be custom made. Chances are you got it from Redspace and he probably doesnt want his code public on the forum here if he shared it with you privately. If I know what script you are using I can modify it properly for you, but I definitely wont let others work be posted on here without the scripts authors consent. </blockquote><br /><br />[CODE=php]#using scripts\codescripts\struct;<br /><br />#using scripts\shared\callbacks_shared;<br />#using scripts\shared\flag_shared;<br />#using scripts\shared\system_shared;<br />#using scripts\shared\trigger_shared;<br /><br />#using scripts\shared\util_shared;<br /><br />#insert scripts\shared\shared.gsh;<br /><br />#using scripts\zm\_util;<br />#using scripts\zm\_zm_audio;<br />#using scripts\zm\_zm;<br />#using scripts\zm\_zm_utility;<br /><br />#namespace rs_o_jump_pad;<br /><br />// Specific variables radiant will look for inside of script_string.<br />// These can be changed to whatever is the easiest to use.<br />#define JUMP_PAD_RADIANT_VAL_TIME &quot;time&quot;<br />#define JUMP_PAD_RADIANT_VAL_ZOFFSET &quot;zOffset&quot;<br />#define JUMP_PAD_RADIANT_VAL_ZPEAKPROGRESS &quot;zPeakProgress&quot;<br />#define JUMP_PAD_RADIANT_VAL_COST &quot;cost&quot;<br />#define JUMP_PAD_RADIANT_VAL_DELAY &quot;delay&quot;<br />#define JUMP_PAD_RADIANT_VAL_COOLDOWN &quot;cooldown&quot;<br /><br />// Default values for each specific setting for the jump pad.<br />#define DEF_JUMP_PAD_JUMP_TIME 2.85<br />#define DEF_JUMP_PAD_Z_OFFSET 800<br />#define DEF_JUMP_PAD_Z_PEAK_PROGRESS 72<br />#define DEF_JUMP_PAD_COST -1<br />#define DEF_JUMP_PAD_DELAY 0<br />#define DEF_JUMP_PAD_COOLDOWN 0<br /><br />#precache( &quot;model&quot;, &quot;tag_origin&quot; );<br /><br />#precache( &quot;fx&quot;, &quot;redspace/fx_launchpad_blue&quot; );<br />#precache( &quot;fx&quot;, &quot;redspace/fx_launchpad_red&quot; );<br /><br />// todo add ability for one jump pad to deactivate another (or multiple) for a certain amount of time<br />// todo add customizable notifies for launch start and launch end<br /><br />REGISTER_SYSTEM( &quot;rs_o_jump_pad&quot;, &amp;__init__, undefined )<br /><br />/* ----------------- Redspace200 Jump Pad ----------------------<br /><br />Credits: <br />	RedSpace200: Entire Script<br />	Porter: Sounds &amp; Idea<br />	3arc: Broken Scripts &amp; files<br />Please give credit to redspace200 &amp; porter if used in your map. <br /><br />Setup: Add prefab into map. Use configuration settings below to setup as you like<br /><br />IMPORTANT: Add line<br />	#using scripts\_redspace\rs_o_jump_pad;<br />to mapName.gsc file<br /><br />Add line to .zone file<br />scriptparsetree,scripts/_redspace/rs_o_jump_pad.gsc<br /><br />--------------------- |||||||||||||||||||||||| ----------------------<br /><br />Use included prefab OR manually setup with the settings below<br /><br />Trigger_Use<br />	targetname = trig_jump_pad<br />	target = startptName<br />		Points to the starting point.<br />			Should be located directly in the center of the trigger_use<br />	<br />Script_Struct<br />	Start_Point (Located right by trigger)<br />		targetname = startptName<br />			Start point name to reference<br />			<br />		target = entptName<br />			End Point to target<br />		<br />		script_string = specific settings for this particular launch pad<br />			Optional Settings<br />				time: Amount of time jump pad transition to end point will take<br />				zOffset: Vertical translation max height<br />				zPeakProgress: Percent of the transition where the player is at his maximum height<br />				cost: Amount this launch pad costs the player to use. Negative # means this will not cost the player and will be activated by touch.<br />				delay: Delay before the launch pad launches the player. Player may step off pad to avoid being launched. Stepping off a paid pad will cause the player to loose the money.<br />				cooldown: Amount of time a player has to wait before using this launch pad again<br />				<br />			Example Syntax (script_string = ) ---&gt; time:4,zOffset:800,zPeakProgress:85,cost:500,delay:0.5<br />	<br />Script_Struct<br />	End_Point (Located by end position. There can be a infinite # of end points, a random one will be chosen)<br />		targetname = entptName<br />			End point name to reference.<br />*/<br /><br /><br />function __init__()<br />{<br />	level jump_pad_init();<br />}<br /><br />function jump_pad_init()<br />{<br />	jump_pad_triggers = GetEntArray( &quot;trig_jump_pad&quot;, &quot;targetname&quot; );<br />	<br />	if( !isdefined( jump_pad_triggers ) )<br />		return;<br />	<br />	for( i = 0; i &lt; jump_pad_triggers.size; i++ )<br />	{<br />		jump_pad_triggers<em>.start = struct::get( jump_pad_triggers<em>.target, &quot;targetname&quot; );<br />		jump_pad_triggers<em>.destination = struct::get_array( jump_pad_triggers<em>.start.target, &quot;targetname&quot; );<br />		<br />		padTime = DEF_JUMP_PAD_JUMP_TIME;<br />		padZOff = DEF_JUMP_PAD_Z_OFFSET;<br />		padPeakProgress = DEF_JUMP_PAD_Z_PEAK_PROGRESS;<br />		padCost = DEF_JUMP_PAD_COST;<br />		padDelay = DEF_JUMP_PAD_DELAY;<br />		padCooldown = DEF_JUMP_PAD_COOLDOWN;<br />		<br />		values = strtok(JUMP_PAD_RADIANT_VAL_TIME+&quot;:&quot;+JUMP_PAD_RADIANT_VAL_ZOFFSET+&quot;:&quot;+JUMP_PAD_RADIANT_VAL_ZPEAKPROGRESS+&quot;:&quot;+JUMP_PAD_RADIANT_VAL_COST+&quot;:&quot;+JUMP_PAD_RADIANT_VAL_DELAY+&quot;:&quot;+JUMP_PAD_RADIANT_VAL_COOLDOWN,&quot;:&quot;);<br />		<br />		input = jump_pad_triggers<em>.script_string;<br />		if (input != &quot;&quot;)<br />		{<br />			input = strtok(input,&quot;,&quot;);<br />			<br />			for(j = 0; j &lt; input.size; j++)<br />			{<br />				varData = strtok(input[j],&quot;:&quot;);<br />				setVar = &quot;&quot;;<br />				for(k = 0; k &lt; values.size; k++)<br />				{<br />					if (varData[0] == values[k])<br />					{<br />						switch(k)<br />						{<br />							case 0: // Set Time<br />								padTime = float(varData[1]);<br />								break;<br />							case 1: // Set Z Offset<br />								padZOff = int(varData[1]);<br />								break;<br />							case 2: // Set Peak Progress<br />								padPeakProgress = int(varData[1]);<br />								break;							<br />							case 3: // Set Cost<br />								padCost = int(varData[1]);<br />								break;							<br />							case 4: // Set Pad Delay<br />								padDelay = float(varData[1]);<br />								break;						<br />							case 5: // Set Pad Delay<br />								padCooldown = float(varData[1]);<br />								break;<br />						}<br />					}<br />				}<br />			}<br />		}<br />			<br />		<br />		// Set the variable information collected to the jump pad trigger<br />		jump_pad_triggers<em>.padTime = padTime;<br />		jump_pad_triggers<em>.padZOffset = padZOff;<br />		jump_pad_triggers<em>.padPeakProgress = padPeakProgress;<br />		jump_pad_triggers<em>.padCost = padCost;<br />		jump_pad_triggers<em>.padDelay = padDelay;<br />		jump_pad_triggers<em>.padCooldown = padCooldown;<br />		<br />		jump_pad_triggers<em>thread jump_pad_fx();<br />		jump_pad_triggers<em>thread jump_pad_think();<br />	}<br />}<br />function jump_pad_fx()<br />{<br />	self endon(&quot;destroyed&quot;);<br />	<br />	while( isdefined( self ) )<br />	{<br />		fx = spawn(&quot;script_model&quot;,self.origin);<br />		fx setModel(&quot;tag_origin&quot;);<br />		playFxOnTag(&quot;redspace/fx_launchpad_blue&quot;,fx,&quot;tag_origin&quot;);<br />		<br />		self waittill(&quot;jump_pad_deactivate&quot;);<br />		<br />		fx delete();<br />		<br />		fx = spawn(&quot;script_model&quot;,self.origin);<br />		fx setModel(&quot;tag_origin&quot;);<br />		playFxOnTag(&quot;redspace/fx_launchpad_red&quot;,fx,&quot;tag_origin&quot;);<br />		<br />		self waittill(&quot;jump_pad_activate&quot;);<br />		<br />		fx delete();<br />	}<br />}<br />function jump_pad_think()<br />{<br />	self endon( &quot;destroyed&quot; );<br />	<br />	self jump_pad_hintstring();<br /><br />	while( isdefined( self ) )<br />	{<br />		wait .2;<br />		<br />		players = getPlayers();<br />		<br />		for(i = 0; i &lt; players.size; i++)<br />		{<br />			who = players<em>;<br />			<br />			if (!self anyPlayerTouchingSelf() )<br />				self.touchingLaunchPad = undefined;<br /><br />			if (!who isTouching(self) )<br />				continue;<br />			<br />			if( IsPlayer( who ) &amp;&amp; !isdefined(self.touchingLaunchPad) )<br />			{<br />				if (self.padCost &gt;= 0 &amp;&amp; (!who useButtonPressed() || who.score &lt; self.padCost) )<br />					continue;<br />					<br />				if (self.padCost &gt; 0)<br />					who.score -= self.padCost;<br />					<br />				if (self.padDelay &gt; 0)<br />				{<br />					who playSound(&quot;flinger_activate&quot;);<br />					self setHintString(&quot;&quot;);<br />					wait self.padDelay;<br />					<br />					self jump_pad_hintstring();<br />					if (!who isTouching(self) )<br />						continue;<br />				}<br /><br />				start = self.start;<br />				time = self.padTime;<br />				zOffset = self.padZOffset;<br />				zPeakProgress = self.padPeakProgress;<br />				end = self.destination[ RandomInt( self.destination.size ) ];<br />				<br />				who thread rs_jumppad_launch(start.origin,time,zOffset,zPeakProgress,end.origin);<br />				self.touchingLaunchPad = true;<br />				<br />				if (self.padCooldown &gt; 0)<br />				{<br />					wait .5;<br />					self setHintString(&quot;Launch pad cooling down...&quot;);<br />					self notify(&quot;jump_pad_deactivate&quot;);<br />					wait self.padCooldown;<br />					self notify(&quot;jump_pad_activate&quot;);<br />					self jump_pad_hintstring();<br />				}<br />			}<br />		}		<br />	}<br />}<br /><br />function jump_pad_hintstring()<br />{<br />	self setCursorHint(&quot;HINT_NOICON&quot;);<br />	if (self.padCost &gt;= 0)<br />		self SetHintString( &quot;Press and Hold ^3[{+activate}]^7 use Launch Pad. Cost[&quot; + self.padCost + &quot;]&quot; );<br />	else<br />		self setHintString(&quot;&quot;);<br />}<br /><br />function anyPlayerTouchingSelf()<br />{<br />	players = getPlayers();<br />	for(i = 0; i &lt; players.size; i++)<br />		if (players<em>isTouching(self) )<br />			return true;<br />			<br />	return false;<br />}<br /><br />// Redspace200 jump pad launch function<br />// Launch the player from point A to B with a nice arc on the Z axis<br />function rs_jumppad_launch(start,time,zOffset,zPeakProgress,end)<br />{<br />	self notify(&quot;stop_player_out_of_playable_area_monitor&quot;);<br />	self.onLaunchPad = true;<br />	self notify(&quot;launchpad_start&quot;);<br />	<br />	level util::clientNotify(&quot;player_fling_blur_0&quot;);<br /><br />	// Get starting location<br />	org = start;<br />	startX = org[0];<br />	startY = org[1];<br />	startZ = org[2];<br />	<br />	// Get ending location<br />	endOrg = end;<br />	byX = endOrg[0] - startX;<br />	byY = endOrg[1] - startY;<br />	byZ = endOrg[2] - startZ;<br />	<br />	totalTime = time; // Total animation duration in seconds<br />	currentTime = 0; // Elapsed time from the animation<br />	<br />	animProgress = 0; // Acutal animation progress / maxProgress. Must start at 0 for smooth animation.<br />	animMaxProgress = 100; // Maximum animation progress. Default to 100 for easy reference.<br />	<br />	animZPeak = zPeakProgress; // Percentage out of 100 before the animation Z starts to descend.<br />	zOffsetMax = zOffset; // Highest point of the animation Z.<br />	<br />	increments = .065; // Increments per frame. .065 Is a good number.<br />	<br />	ent = spawn(&quot;script_origin&quot;,self.origin);<br /><br />	self playSound(&quot;flinger_fly&quot;);<br />	<br />	ent playLoopSound(&quot;flinger_wind_loop&quot;);<br />	<br />	wait .05;<br />	<br />	self playerLinkTo(ent);<br />	<br />	for(i = 0; i &lt; totalTime; i+=increments)<br />	{<br />		ent.angles = self.angles;<br />	<br />		animProgress = map(i,0,totalTime,0,animMaxProgress);<br />	<br />		// Normal delta speed from starting point to end point.<br />		// Input current animation frame number to get position.<br />		dx = linear(animProgress,0,byX,animMaxProgress+1);<br />		dy = linear(animProgress,0,byY,animMaxProgress+1);<br />		dz = linear(animProgress,0,byZ,animMaxProgress+1);<br />		<br />		addZ = 0;<br />		<br />		// Z Axis Arc / Offset<br />		if (animProgress &lt; animZPeak)<br />			addZ = easeOutSine(animProgress,0,zOffsetMax,animMaxProgress - (animMaxProgress - animZPeak) );<br />		else<br />			addZ = zOffsetMax - easeInSine(animProgress-animZPeak,0,zOffsetMax,animMaxProgress-animZPeak);<br /><br />		x = startX + dx;<br />		y = startY + dy;<br />		z = startZ + dz + addZ;<br />		<br />		ent moveTo( (x,y,z), increments, 0 ,0);<br />	<br />		wait increments;<br />	}<br />	<br />	self setOrigin(endOrg);<br />	earthQuake(.6, 3, self.origin, 200);<br />	<br />	level util::clientNotify(&quot;player_fling_blur_disable_0&quot;);<br />	<br />	self unlink();<br />	ent delete();<br />	<br />	self playSound(&quot;flinger_land&quot;);<br />	<br />	self thread zm::player_out_of_playable_area_monitor();<br />	self.onLaunchPad = undefined;<br />	self notify(&quot;launchpad_finish&quot;);<br />}<br /><br />function linear(t,b,c,d)<br />{<br />	return c*t/(d-1) + b;<br />}<br /><br />function easeInSine(t, b, c, d) <br />{<br />	return -c * cos(toRadian(t/d * (Math_PI()/2) ) ) + c + b;<br />}<br /><br />function easeOutSine(t, b, c, d)<br />{<br />	return c * sin(toRadian(t/d * (Math_PI()/2) ) ) + b;<br />}<br /><br />function Math_PI()<br />{<br />	return 3.14159265359;<br />}<br /><br />function toRadian(degree)<br />{<br />	return degree * (180 / Math_PI() );<br />}<br /><br />function map(input,lower1,upper1,lower2,upper2)<br />{<br />	return ( (input-lower1)*(upper2-lower2) ) / (upper1-lower1) + lower2;<br />}[/CODE]<br /><br />This is jump pad script from redspace i found it in this video.<br /><br />Thanks.<iframe type="text/html" width="640" height="360" src="https://www.youtube.com/embed/jU6RV_2D1oU" frameborder="0"></iframe></em></em></em></em></em></em></em></em></em></em></em></em></em></em></em></p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: natesmithzombies<br />On line 32 you will see this: <br /><br />[CODE=php]#define DEF_JUMP_PAD_COST -1[/CODE]<br /><br /><br /><br />Change it to:<br /><br />[CODE=php]#define DEF_JUMP_PAD_COST 1000 // cost is now 1000 [/CODE]<br /><br /><br /><br />I haven&#39;t tested it myself but let me know how it goes</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Exofile<br /><blockquote><em>natesmithzombies</em>On line 32 you will see this: <br /><br />[CODE=php]#define DEF_JUMP_PAD_COST -1[/CODE]<br /><br /><br /><br />Change it to:<br /><br />[CODE=php]#define DEF_JUMP_PAD_COST 1000 // cost is now 1000 [/CODE]<br /><br /><br /><br />I haven&#39;t tested it myself but let me know how it goes </blockquote><br /><br />Wait, -1?<br /><br />Won&#39;t his script then award players 1 point, would it not be more clever to have the cost be 0? I&#39;m asking as I&#39;m not much for scripting, on the sideline.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: natesmithzombies<br /><blockquote><em>Exofile</em><blockquote><em>natesmithzombies</em>On line 32 you will see this: <br /><br />[CODE=php]#define DEF_JUMP_PAD_COST -1[/CODE]<br /><br /><br /><br />Change it to:<br /><br />[CODE=php]#define DEF_JUMP_PAD_COST 1000 // cost is now 1000 [/CODE]<br /><br /><br /><br />I haven&#39;t tested it myself but let me know how it goes </blockquote><br /><br />Wait, -1?<br /><br />Won&#39;t his script then award players 1 point, would it not be more clever to have the cost be 0? I&#39;m asking as I&#39;m not much for scripting, on the sideline.</blockquote><br /><br />No because either treyarch or redspace did a check later to ignore the cost in this logical statement: <br /><br />[CODE=php]if (self.padCost &gt;= 0 &amp;&amp; (!who useButtonPressed() || who.score &lt; self.padCost) )[/CODE]<br /><br />I thought it was rather interesting myself too</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: ReKleSs<br /><blockquote><em>natesmithzombies</em><blockquote><em>Exofile</em><blockquote><em>natesmithzombies</em>On line 32 you will see this: <br /><br />[CODE=php]#define DEF_JUMP_PAD_COST -1[/CODE]<br /><br /><br /><br />Change it to:<br /><br />[CODE=php]#define DEF_JUMP_PAD_COST 1000 // cost is now 1000 [/CODE]<br /><br /><br /><br />I haven&#39;t tested it myself but let me know how it goes </blockquote><br /><br />Wait, -1?<br /><br />Won&#39;t his script then award players 1 point, would it not be more clever to have the cost be 0? I&#39;m asking as I&#39;m not much for scripting, on the sideline.</blockquote><br /><br />No because either treyarch or redspace did a check later to ignore the cost in this logical statement: <br /><br />[CODE=php]if (self.padCost &gt;= 0 &amp;&amp; (!who useButtonPressed() || who.score &lt; self.padCost) )[/CODE]<br /><br />I thought it was rather interesting myself too </blockquote><br /><br />Thanks, All are working perfect.</p>
