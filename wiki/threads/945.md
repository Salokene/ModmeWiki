# using self for player
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: hahaDuNOOB<br />i have some scripts with self and i dont know how to use self as player<br /> <br />i want to use this but self dont work [CODE=php]self freezecontrols(true);[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br /><blockquote><em>aahahaDuNOOB</em><br />i have some scripts with self and i dont know how to use self as player   i want to use this but self dont work self freezecontrols(true);</blockquote><br /> self only works when you thread a function but put an entity behind it when you thread it. for example:<br />[CODE=php]player thread do_stuff();[/CODE]<br />will thread the function do_stuff() and with player acting as self. So when we look at the function do_stuff:<br />[CODE=php]function do_stuff()<br />{<br />     self freezecontrols(true);<br />}[/CODE]<br />you can see we are able use self. But what self really means in this case is &quot;player&quot; because that&#39;s what we threaded the function with. you could always replace self with player and keep it the same function of course:<br />[CODE=php]player freezecontrols(true);[/CODE]<br />and it should work just fine.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: hahaDuNOOB<br /><blockquote><em>Abnormal202</em><br />aahahaDuNOOB i have some scripts with self and i dont know how to use self as player   i want to use this but self dont work self freezecontrols(true);  self only works when you thread a function but put an entity behind it when you thread it. for example: player thread do_stuff(); will thread the function do_stuff() and with player acting as self. So when we look at the function do_stuff: function do_stuff() { self freezecontrols(true); } you can see we are able use self. But what self really means in this case is &quot;player&quot; because that&#39;s what we threaded the function with. you could always replace self with player and keep it the same function of course: player freezecontrols(true); and it should work just fine.  </blockquote><br /> i put player in  and get a error<br /> <br />Line 84       player thread base_base();<br /> <br />^1}<br />^1^<br />^1ERR(6E) scripts/zm/zm_waeponsonly.gsc (84,1) : Compiler Internal Error : Uninitialized local variable &#39;player&#39;</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br /><blockquote><em>hahaDuNOOB</em><br />Abnormal202 aahahaDuNOOB i have some scripts with self and i dont know how to use self as player   i want to use this but self dont work self freezecontrols(true);  self only works when you thread a function but put an entity behind it when you thread it. for example: player thread do_stuff(); will thread the function do_stuff() and with player acting as self. So when we look at the function do_stuff: function do_stuff() { self freezecontrols(true); } you can see we are able use self. But what self really means in this case is &quot;player&quot; because that&#39;s what we threaded the function with. you could always replace self with player and keep it the same function of course: player freezecontrols(true); and it should work just fine.    i put player in  and get a error   Line 84       player thread base_base();   ^1} ^1^ ^1ERR(6E) scripts/zm/zm_waeponsonly.gsc (84,1) : Compiler Internal Error : Uninitialized local variable &#39;player&#39;</blockquote><br /> yes the problem with that is that you haven&#39;t defined player. I&#39;m not sure what the script is you&#39;re using, but if you want to freezecontrols on all players you could use:<br />[CODE=php]foreach(player in level.players)<br />{<br />    player freezecontrols();<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: hahaDuNOOB<br /><blockquote><em>Abnormal202</em><br />hahaDuNOOB Abnormal202 aahahaDuNOOB i have some scripts with self and i dont know how to use self as player   i want to use this but self dont work self freezecontrols(true);  self only works when you thread a function but put an entity behind it when you thread it. for example: player thread do_stuff(); will thread the function do_stuff() and with player acting as self. So when we look at the function do_stuff: function do_stuff() { self freezecontrols(true); } you can see we are able use self. But what self really means in this case is &quot;player&quot; because that&#39;s what we threaded the function with. you could always replace self with player and keep it the same function of course: player freezecontrols(true); and it should work just fine.    i put player in  and get a error   Line 84       player thread base_base();   ^1} ^1^ ^1ERR(6E) scripts/zm/zm_waeponsonly.gsc (84,1) : Compiler Internal Error : Uninitialized local variable &#39;player&#39;  yes the problem with that is that you haven&#39;t defined player. I&#39;m not sure what the script is you&#39;re using, but if you want to freezecontrols on all players you could use: foreach(player in level.players) { player freezecontrols(); }</blockquote><br /> i am working on a men&#252; base and i men&#252; base dont work did you know how i can get thisto work i put it in the mapname.gsc <br />[CODE=php]REGISTER_SYSTEM( &quot;clientids&quot;, &amp;__init__, undefined )<br /><br />function __init__()<br />{<br />	IPrintLnBold(&quot;init reach&quot;);<br />	init();<br />	on_player_connect();<br />	on_player_spawned(); <br />}<br /><br />function init()<br />{<br />	level.clientid = 0;<br />}<br /><br />function on_player_connect()<br />{<br />	self.clientid = matchRecordNewPlayer( self );<br />	if ( !isdefined( self.clientid ) || self.clientid == -1 )<br />	{<br />		self.clientid = level.clientid;<br />		level.clientid++;	<br />	}<br />}<br /><br />function on_player_spawned()<br />{<br />	IPrintLnBold(&quot;maybe&quot;);<br />	iPrintln(&quot;^1test base&quot;);<br />	self freezecontrols(false);<br />	if(!isDefined(self.menu[&quot;active&quot;]))<br />	{<br />		self thread init_menuSystem();<br />		self.menu[&quot;active&quot;] = true;<br />		self iprintln(&quot;Welcome to &quot;+self.menu[&quot;name&quot;]+&quot; ^7test&quot;);<br />		self initMenuOpts(); <br />		self thread initMenu();<br />	}<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br />where did you get that from? I&#39;m not even sure that&#39;s meant for Gsc. I guess if that does what you want it to you put:<br />[CODE=php]foreach(player in level.players)<br />{<br />    player on_player_connect();<br />}[/CODE]<br />in your main(). though I really don&#39;t know what that does.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: hahaDuNOOB<br /><blockquote><em>Abnormal202</em><br />where did you get that from? I&#39;m not even sure that&#39;s meant for Gsc. I guess if that does what you want it to you put: foreach(player in level.players) { player on_player_connect(); } in your main(). though I really don&#39;t know what that does.</blockquote><br /> function __init__(player in level.players)<br />{<br /> IPrintLnBold(&quot;init reach&quot;);<br /> player init();<br /> player on_player_connect();<br /> player on_player_spawned(); <br />}<br /> <br /> <br />^1function __init__(player in<br />^1--------------------------^<br />^1ERR(0) scripts/zm/zm_waeponsonly.gsc (253,27) in &quot;__init__()&quot; : syntax error, unexpected TOKEN_IN, expecting TOKEN_RIGHT_PAREN : function __init__(player in</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br />I think your very first line needs a semicolon:<br />[CODE=php]REGISTER_SYSTEM( &quot;clientids&quot;, &amp;__init__, undefined );[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: hahaDuNOOB<br /><blockquote><em>Abnormal202</em><br />I think your very first line needs a semicolon: REGISTER_SYSTEM( &quot;clientids&quot;, &amp;__init__, undefined );</blockquote><br /> still the same problem the complete script <br />[CODE=php]function menu_base()<br />{<br />	level flag::wait_till( &quot;initial_blackscreen_passed&quot; );<br />	thread __init__();<br />}<br /><br />REGISTER_SYSTEM( &quot;clientids&quot;, &amp;__init__, undefined )<br /><br />function __init__(player in level.players)<br />{<br />	IPrintLnBold(&quot;init reach&quot;);<br />	player init();<br />	player on_player_connect();<br />	player on_player_spawned(); <br />}<br /><br />function init()<br />{<br />	level.clientid = 0;<br />}<br /><br />function on_player_connect()<br />{<br />	self.clientid = matchRecordNewPlayer( self );<br />	if ( !isdefined( self.clientid ) || self.clientid == -1 )<br />	{<br />		self.clientid = level.clientid;<br />		level.clientid++;	<br />	}<br />}<br /><br />function on_player_spawned()<br />{<br />	IPrintLnBold(&quot;maybe&quot;);<br />	iPrintln(&quot;^1test base&quot;);<br />	self freezecontrols(false);<br />	if(!isDefined(self.menu[&quot;active&quot;]))<br />	{<br />		self thread init_menuSystem();<br />		self.menu[&quot;active&quot;] = true;<br />		self iprintln(&quot;Welcome to &quot;+self.menu[&quot;name&quot;]+&quot; ^7test&quot;);<br />		self initMenuOpts(); <br />		self thread initMenu();<br />	}<br />}<br /><br /><br />function init_menuSystem()<br />{<br />	self.menu = [];<br />	self.gamevars = [];<br />	self.menu[&quot;name&quot;] = &quot;BO3 Mod Menu&quot;;<br />	<br />}<br /><br />function initMenuOpts()<br />{<br />	self addMenu(&quot;main&quot;, self.menu[&quot;name&quot;], undefined);<br />	self addOpt(&quot;main&quot;, &quot;Main Menu&quot;, &amp;subMenu, &quot;main_mods&quot;);<br />	self addOpt(&quot;main&quot;, &quot;Weapons&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Game Settings&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Models&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Bullets&quot;, &amp;subMenu, &quot;main_mods&quot;); <br />	self addOpt(&quot;main&quot;, &quot;Messages&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Perks&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Admin Menu&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Host Menu&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Aimbot&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;Clients&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	self addOpt(&quot;main&quot;, &quot;All Clients&quot;, &amp;subMenu, &quot;main_mods&quot;);  <br />	<br />	self addMenu(&quot;main_mods&quot;, &quot;Main Mods&quot;, &quot;main&quot;);<br />	self addOpt(&quot;main_mods&quot;, &quot;God Mode&quot;, &amp;func_godmode);<br />	self addOpt(&quot;main_mods&quot;, &quot;Unlimited Ammo&quot;, &amp;func_unlimitedAmmo);<br />	self addOpt(&quot;main_mods&quot;, &quot;Ufo Mode&quot;, &amp;func_ufomode);<br />	self addOpt(&quot;main_mods&quot;, &quot;Field of View&quot;, &amp;test);<br />	self addOpt(&quot;main_mods&quot;, &quot;Print something!&quot;, &amp;test);<br />}<br /> <br /> <br />function initMenu()<br />{<br />	self.openBox = self createRectangle(&quot;CENTER&quot;, &quot;CENTER&quot;, 480, 0, 200, 0, (0, 0, 0), &quot;white&quot;, 1, 0);<br />	<br />	self.currentMenu = &quot;main&quot;;<br />    self.menuCurs = 0;<br />    for(;;)<br />    {<br />        if(self adsButtonPressed() &amp;&amp; self MeleeButtonPressed())<br />        {<br />            if(!isDefined(self.inMenu))<br />            {<br />                self.inMenu = true;<br />                <br />				self.openText = self createText(&quot;default&quot;, 2, &quot;TOP&quot;, &quot;TOP&quot;, self.openBox.x - 40, 20, 2, 1, (0, 0, 0), self.menu[&quot;name&quot;]); <br />				self.openBox.alpha = .7;<br />    <br />                menuOpts = self.menuAction[self.currentMenu].opt.size;<br />                self.openBox scaleOverTime(.4, 200, ((455)+45));<br />                wait .4;<br />                self.openText setText(self.menuAction[self.currentMenu].title);<br />                string = &quot;&quot;;<br />                for(m = 0; m &lt; menuOpts; m++)<br />                    string+= self.menuAction[self.currentMenu].opt[m]+&quot;\n&quot;;<br /><br />				self.menuText = self createText(&quot;default&quot;, 1.5, &quot;TOP&quot;, &quot;TOP&quot;, self.openBox.x - 80, 100, 3, 1, undefined, string);<br />				self.scrollBar = self createRectangle(&quot;CENTER&quot;, &quot;CENTER&quot;, self.openBox.x, ((self.menuCurs*17.98)+((self.menuText.y+2.5)-(17.98/15))), 200, 15, (0, 1, 0), &quot;white&quot;, 2, .7);<br /><br />            }<br />        }<br />        if(isDefined(self.inMenu))<br />        {<br />            if(self attackButtonPressed())<br />            {<br />                self.menuCurs++;<br />                if(self.menuCurs &gt; self.menuAction[self.currentMenu].opt.size-1)<br />                    self.menuCurs = 0;<br />                self.scrollBar moveOverTime(.15);<br />                self.scrollBar.y = ((self.menuCurs*17.98)+((self.menuText.y+2.5)-(17.98/17)));<br />                wait .15;<br />            }<br />            if(self adsButtonPressed())<br />            {<br />                self.menuCurs--;<br />                if(self.menuCurs &lt; 0)<br />                    self.menuCurs = self.menuAction[self.currentMenu].opt.size-1;<br />                self.scrollBar moveOverTime(.15);<br />                self.scrollBar.y = ((self.menuCurs*17.98)+((self.menuText.y+2.5)-(17.98/17)));<br />                wait .15;<br />            }<br />            if(self useButtonPressed())<br />            {<br />                self thread [[self.menuAction[self.currentMenu].func[self.menuCurs]]](self.menuAction[self.currentMenu].inp[self.menuCurs]);<br />                wait .2;<br />            }<br />            if(self meleeButtonPressed())<br />            {<br />                if(!isDefined(self.menuAction[self.currentMenu].parent))<br />                {<br />					self thread func_menuexiut();<br />				}<br />                else<br />                    self subMenu(self.menuAction[self.currentMenu].parent);<br />            }<br />        }<br />        wait .05;<br />    }<br />}<br /><br />function func_menuexiut()<br />{<br />	self.inMenu = undefined;<br />    self.openText destroy();                    <br />	self.openBox scaleOverTime(.4, 200, 30);<br />	self.menuText destroy();<br />	self.scrollBar destroy();<br />	self.openBox.alpha = 0;<br />	wait .4;<br />	self freezecontrols(false);<br />}<br />function subMenu(menu)<br />{<br />    self.menuCurs = 0;<br />    self.currentMenu = menu;<br />    self.scrollBar moveOverTime(.2);<br />    self.scrollBar.y = ((self.menuCurs*17.98)+((self.menuText.y+2.5)-(17.98/15)));<br />    self.menuText destroy();<br />    self.openText setText(self.menuAction[self.currentMenu].title);<br /><br />    menuOpts = self.menuAction[self.currentMenu].opt.size;<br />	<br />    wait .2;<br />    string = &quot;&quot;;<br />    for(m = 0; m &lt; menuOpts; m++)<br />        string+= self.menuAction[self.currentMenu].opt[m]+&quot;\n&quot;;<br />    self.menuText = self createText(&quot;default&quot;, 1.5, &quot;TOP&quot;, &quot;TOP&quot;, self.openBox.x - 80, 100, 3, 1, undefined, string);<br />	wait .2;<br />}<br /> <br />function test()<br />{<br />    self iPrintln(&quot;^9Comming Soon&quot;);<br />}<br /><br />function addMenu(menu, title, parent)<br />{<br />    if(!isDefined(self.menuAction))<br />        self.menuAction = [];<br />    self.menuAction[menu] = spawnStruct();<br />    self.menuAction[menu].title = title;<br />    self.menuAction[menu].parent = parent;<br />    self.menuAction[menu].opt = [];<br />    self.menuAction[menu].func = [];<br />    self.menuAction[menu].inp = [];<br />}<br /> <br />function addOpt(menu, opt, func, inp)<br />{<br />    m = self.menuAction[menu].opt.size;<br />    self.menuAction[menu].opt[m] = opt;<br />    self.menuAction[menu].func[m] = func;<br />    self.menuAction[menu].inp[m] = inp;<br />}<br />  <br />function createText(font, fontScale, align, relative, x, y, sort, alpha, glow, text)<br />{<br />    textElem = newClientHudElem(self);<br />    textElem.sort = sort;<br />    textElem.alpha = alpha;<br />	textElem.x = x;<br />    textElem.y = y;<br />	textElem.glowColor = glow;<br />    textElem.glowAlpha = 1;<br />    textElem.fontScale = fontScale;<br />    textElem setText(text);<br />    return textElem;<br />}<br /> <br />function createRectangle(align, relative, x, y, width, height, color, shader, sort, alpha)<br />{<br />    boxElem = newClientHudElem(self);<br />    boxElem.elemType = &quot;bar&quot;;<br />    if(!level.splitScreen)<br />    {<br />        boxElem.x = -2;<br />        boxElem.y = -2;<br />    }<br />    boxElem.width = width;<br />    boxElem.height = height;<br />    boxElem.align = align;<br />    boxElem.relative = relative;<br />    boxElem.xOffset = 0;<br />    boxElem.yOffset = 0;<br />    boxElem.children = [];<br />    boxElem.sort = sort;<br />    boxElem.color = color;<br />    boxElem.alpha = alpha;<br />    boxElem setShader(shader, width, height);<br />    boxElem.hidden = false;<br />    boxElem.x = x;<br />    boxElem.y = y;<br />    boxElem.alignX = align;<br />    boxElem.alignY = relative;<br />    return boxElem;<br />}<br /> <br /><br />// Functions<br />function func_godmode()<br />{<br />	if(!isDefined(self.gamevars[&quot;godmode&quot;]))<br />	{<br />		self.gamevars[&quot;godmode&quot;] = true;<br />		self enableInvulnerability(); <br />		self iprintln(&quot;God Mode ^2ON&quot;);<br />	}<br />	else<br />	{<br />		self.gamevars[&quot;godmode&quot;] = undefined;<br />		self disableInvulnerability(); <br />		self iprintln(&quot;God Mode ^1OFF&quot;);<br />	}<br />}<br /><br />function func_ufomode()<br />{<br />	if(!isDefined(self.gamevars[&quot;ufomode&quot;]))<br />	{<br />		self thread func_activeUfo();<br />		self.gamevars[&quot;ufomode&quot;] = true;<br />		self iPrintln(&quot;UFO Mode ^2ON&quot;);<br />		self iPrintln(&quot;Press [{+frag}] To Fly&quot;);<br />	}<br />	else<br />	{<br />		self notify(&quot;func_ufomode_stop&quot;);<br />		self.gamevars[&quot;ufomode&quot;] = undefined;<br />		self iPrintln(&quot;UFO Mode ^1OFF&quot;);<br />	}<br />}<br />function func_activeUfo()<br />{<br />	self endon(&quot;func_ufomode_stop&quot;);<br />	self.Fly = 0;<br />	UFO = spawn(&quot;script_model&quot;,self.origin);<br />	for(;;)<br />	{<br />		if(self FragButtonPressed())<br />		{<br />			self playerLinkTo(UFO);<br />			self.Fly = 1;<br />		}<br />		else<br />		{<br />			self unlink();<br />			self.Fly = 0;<br />		}<br />		if(self.Fly == 1)<br />		{<br />			Fly = self.origin+vector_scal(anglesToForward(self getPlayerAngles()),20);<br />			UFO moveTo(Fly,.01);<br />		}<br />		wait .001;<br />	}<br />}<br /><br />function vector_scal(vec, scale)<br />{<br />	vec = (vec[0] * scale, vec[1] * scale, vec[2] * scale);<br />	return vec;<br />}<br /><br />function func_unlimitedAmmo()<br />{<br />	if(!isDefined(self.gamevars[&quot;ammo_weap&quot;]))<br />	{<br />		self notify(&quot;stop_ammo&quot;);<br />		self thread func_ammo();<br />		self iPrintln(&quot;Unlimited Ammo ^2ON&quot;);<br />		self.gamevars[&quot;ammo_weap&quot;] = true;<br />	}<br />	else<br />	{<br />		self notify(&quot;stop_ammo&quot;);<br />		self.gamevars[&quot;ammo_weap&quot;] = undefined;<br />		self iPrintln(&quot;Unlimited Ammo ^1OFF&quot;);<br />	}<br />}<br /><br />function func_ammo()<br />{<br />	self endon(&quot;stop_ammo&quot;);<br />	for(;;)<br />	{<br />			if(self.gamevars[&quot;ammo_weap&quot;]==true)<br />			{	<br />				if ( self getcurrentweapon() != &quot;none&quot; )<br />				{<br />					self setweaponammostock( self getcurrentweapon(), 1337 );<br />					self setweaponammoclip( self getcurrentweapon(), 1337 );<br />				}<br />			}<br />		wait .1;<br />	}<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br />ADD THE SEMICOLON</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: hahaDuNOOB<br /><blockquote><em>Abnormal202</em><br />ADD THE SEMICOLON</blockquote><br /> thatis not the problem i add it still dont work</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Abnormal202<br /><blockquote><em>hahaDuNOOB</em><br />Abnormal202 ADD THE SEMICOLON  thatis not the problem i add it still dont work</blockquote><br /> Add it, then give me the new error message. The old error is definitely because of the semicolon.</p>
