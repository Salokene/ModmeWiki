# Need help making this function loop
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: modric<br />(Based loosely of of PSH&#39;s care package script)...This works perfectly and drops 1 package which gives a powerup and then deletes itself. I would like it to loop and have a plane fly either every few rounds or every couple minutes, anyway... i made it so that rather than deleting models and triggers, they get hidden and disabled and can be moved back to their start struct, ready to go through the sequence again. I think i need to set up some sort of loop with a return back to the first function in order to have the sequence loop every few rounds/minutes. <br />[CODE=php] function carepackages()<br />{<br />	level flag::wait_till( &quot;initial_blackscreen_passed&quot; );<br />	//IPrintLn(&quot;Blackscreen passed.&quot;);<br />	care_model = GetEnt(&quot;care_model&quot;, &quot;targetname&quot;);<br />	care_model Hide();<br />	model = GetEnt(&quot;plane1a&quot;, &quot;targetname&quot;);<br />	model Hide();<br />	struct_start = struct::get(&quot;plane1a_start&quot;,&quot;targetname&quot;);<br />	model MoveTo((struct_start.origin), 1);<br />	care_struct = struct::get(&quot;care_start_struct&quot;,&quot;targetname&quot;);<br />	care_model MoveTo((care_start_struct.origin), 1);<br />	wait(100);<br />	IPrintLn(&quot;Wait over.&quot;);<br />	thread planesSetup();<br />}<br /><br />function planesSetup()<br />{<br />	IPrintLnBold(&quot;Launching.&quot;);<br />	struct = struct::get(&quot;plane1a_stop&quot;,&quot;targetname&quot;);<br />	model = GetEnt(&quot;plane1a&quot;, &quot;targetname&quot;);<br />	model Show();<br />	model PlaySoundToTeam(&quot;plane_fly&quot;, &quot;allies&quot;);<br />	model MoveTo((struct.origin), 20);<br />	IPrintLnBold(&quot;model moved&quot;);<br />	<br />	wait(10);<br /><br />	care_struct = struct::get(&quot;care_start_struct&quot;,&quot;targetname&quot;);<br />	plane_package_struct = struct::get(&quot;plane_package_struct&quot;,&quot;targetname&quot;);<br />	care_model = GetEnt(&quot;care_model&quot;, &quot;targetname&quot;);<br />	care_model Show();<br />	care_model MoveTo((plane_package_struct.origin), 15);<br />	wait (15);<br />	PlayFX( level._effect[&quot;powerup_grabbed&quot;], care_model.origin );<br />	care_model PlaySoundToTeam(&quot;fly_land_imp_fast_plr_metal&quot; , &quot;allies&quot;);<br />	care_model PlaySoundToTeam(&quot;zmb_couch_slam&quot; , &quot;allies&quot;);<br />	//IPrintLnBold(&quot;package dropped&quot;);<br /><br />	model Hide();<br />	IPrintLnBold(&quot;plane deleted&quot;);<br /><br />	care_trig = GetEnt(&quot;care_trig&quot;, &quot;targetname&quot; );<br />	care_trig TriggerEnable (false);<br />	IPrintLnBold(&quot;package trig off&quot;);<br />	wait(15);<br /><br />	care_trig TriggerEnable (true);<br />	IPrintLnBold(&quot;package trig on&quot;);<br />	care_trig SetHintString(&quot;Hold to open care package&quot;);<br />	care_trig waittill( &quot;trigger&quot;, player);<br />	IPrintLnBold(&quot;package opened&quot;);<br />	PlayFX( level._effect[&quot;powerup_grabbed&quot;], care_model.origin );<br />	care_model Hide();<br />	IPrintLnBold(&quot;package deleted&quot;);<br />	care_trig SetHintString(&quot;&quot;);<br />	care_trig TriggerEnable(false);<br /><br /> <br /><br /><br />	<br /><br /><br /><br />        		rand = RandomIntRange( 0, 6 ); <br />            if(rand == 0)<br />                thread zm_powerups::specific_powerup_drop( &quot;full_ammo&quot;, plane_package_struct.origin);<br />            if(rand == 1)<br />                thread zm_powerups::specific_powerup_drop( &quot;nuke&quot;, plane_package_struct.origin);<br />            if(rand == 2)<br />                thread zm_powerups::specific_powerup_drop( &quot;insta_kill&quot;, plane_package_struct.origin);<br />            if(rand == 3)<br />                thread zm_powerups::specific_powerup_drop( &quot;free_perk&quot;, plane_package_struct.origin);<br />            if(rand == 7)<br />                thread zm_powerups::specific_powerup_drop( &quot;fire_sale&quot;, plane_package_struct.origin);<br />            if(rand == 5)<br />                thread zm_powerups::specific_powerup_drop( &quot;double_points&quot;, plane_package_struct.origin);<br />            if(rand == 6)<br />                thread zm_powerups::specific_powerup_drop( &quot;carpenter&quot;, plane_package_struct.origin);<br />          <br />        <br /><br />	wait (1);<br /><br />	return;<br />	<br />	<br />	<br />	<br />	<br />}	<br />[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />I tested it without the return; at the end, i added that when messing around and cant edit the code i pasted so ignore it</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />I got it to loop after all, but if anyone knows how i could make it wait like 3 rounds instead of 200 seconds to start the plane that would be great</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br /><blockquote><em>modric</em><br />I got it to loop after all, but if anyone knows how i could make it wait like 3 rounds instead of 200 seconds to start the plane that would be great</blockquote><br /> instead of the wait(); paste this:<br />[CODE=php]rounds_to_wait = 3;<br />for( i=0;i&lt;rounds_to_wait;i++ )=&quot;&quot; {=&quot;&quot; level=&quot;&quot; waittill(&quot;between_round_over&quot;);=&quot;&quot;&gt;&lt;/rounds_to_wait;i++&gt;[/CODE]</p>
