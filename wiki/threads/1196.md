# Mario Kart race Help
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: Symbo<br />I have a map with drivable vehicles and, since i am not a good scripter, I decide to have many trigger multiple around the map for each lap and check if the player trigger them enough time to know when end the game.<br />But with this system a late players can finish the last lap even if he/she has 1 or more lap to do.<br />ZoekMeMarr helped me with a script recently that could solved that issue and can display the winner&#39;s name on screen. But this script doesn&#39;t work at all and I need help to understand why? <br /> <br />[CODE=php]function laps()<br />{<br />	level flag::wait_till( &quot;all_players_connected&quot; );<br /><br />	level.laps_tunnel = GetEnt(&quot;laps_tunnel&quot;, &quot;targetname&quot;);<br />	level.laps_start = GetEnt(&quot;laps_start&quot;, &quot;targetname&quot;);<br />	level.inter1 = GetEnt(&quot;inter1&quot;, &quot;targetname&quot;);<br />	level.inter2 = GetEnt(&quot;inter2&quot;, &quot;targetname&quot;);<br />	level.inter3 = GetEnt(&quot;inter3&quot;, &quot;targetname&quot;);<br />	level.inter4 = GetEnt(&quot;inter4&quot;, &quot;targetname&quot;);<br />	level.inter5 = GetEnt(&quot;inter5&quot;, &quot;targetname&quot;);<br />	level.mario_model = GetEnt(&quot;mario_model&quot;, &quot;targetname&quot;);<br /><br />	level.laps_to_ride = 5;//number of laps to ride!<br /><br />    players = GetPlayers();<br />	foreach( player in players )  <br />	{<br />		thread player_flags(player);<br />	}<br /><br />	thread better_print(level.laps_to_ride+&quot; laps to WIN&quot;, 0, 0, 3, 3 );<br />}<br /><br />function player_flags(player)<br />{<br />   player endon(&quot;disconnect&quot;);<br />   player endon(&quot;game_end&quot;);<br />   player.laps = 0;<br />   while(1)<br />   {<br />		level.laps_start waittill(&quot;trigger&quot;, player);<br /><br />		if(player.laps == level.laps_to_ride &amp;&amp; player IsTouching(level.laps_start))<br />		{<br />			player thread winner();<br />			wait (0.05);<br />			player thread ending();<br />			break;<br />		}<br />        <br />        while(player.laps != level.laps_to_ride)<br />        {<br />        	level.inter1 waittill(&quot;trigger&quot;, player);<br />			level.inter2 waittill(&quot;trigger&quot;, player);<br />			level.inter3 waittill(&quot;trigger&quot;, player);<br />			level.laps_tunnel waittill(&quot;trigger&quot;, player);<br />			level.inter4 waittill(&quot;trigger&quot;, player);<br />			level.inter5 waittill(&quot;trigger&quot;, player);<br />			level.laps_start waittill(&quot;trigger&quot;, player);<br />			<br />			player.laps++;<br /><br />			if(player.laps == level.laps_to_ride){<br />				player playsound(&quot;final_lap&quot;);<br />				player SetFlashBanged( true, 1 );<br />				level util::set_lighting_state( 1 );<br />				level.mario_model MoveZ(4250,2);<br />				player IPrintLnBold(&quot;Final Lap&quot;);<br />			}<br />			else{<br />				player IPrintLnBold(&quot;^3Lap &quot;+player.laps+1 );<br />			}<br />        }<br />    }<br />}<br /><br />function winner()<br />{<br />	iprintlnbold( &quot;^3Winner winner, chicken dinner\n ^7Winner is :[^1&quot; + self.name + &quot;^7]&quot; );<br />}[/CODE]</p>
