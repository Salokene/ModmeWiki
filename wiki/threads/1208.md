# Need some help with my easter egg progression script
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: modric<br />Ok so my easter egg will be using other people&#39;s scripts but the first step to initiate the ee is custom. The problem is that I am not good at scripting in the slightest so I need help getting it sorted. Basically I want to have a trigger with a hintstring make other models/triggers appear to collect and then the rest of the ee is other scripts. So really i just need to figure out how to make the trigs waittill one trig is used before they show. Here is what i have so far:<br />[CODE=php]function tony_ee()<br />{<br /><br />	start_trig = GetEnt(&quot;ee_start_trig&quot;, &quot;targetname&quot;);<br />	start_trig SetHintString(&quot;Press to start quest&quot;);<br />	tony_trigs = GetEntArray(&quot;tony_trig&quot;, &quot;targetname&quot;);<br />	tony_trigs hide();<br />	//also want tony_trigs model to be hidden/shown with trigs<br />	self waittill(//start trig is triggered)<br />	Show tony_trigs (); //and tony trigs models<br />	//these tony trigs are already working trigs from another script and the rest of the ee is figured out. <br />}<br /><br />[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />Here you go:<br />[CODE=php]function tony_ee()<br />{<br /><br />	start_trig = GetEnt(&quot;ee_start_trig&quot;, &quot;targetname&quot;);<br />	start_trig SetHintString(&quot;Press to start quest&quot;);<br />	tony_trigs = GetEntArray(&quot;tony_trig&quot;, &quot;targetname&quot;);<br />	tony_model = GetEntArray(&quot;tony_model&quot;, &quot;targetname&quot;);<br />	<br />	foreach(trig in tony_trigs)<br />		{<br />		trig TriggerEnable(0); //you could use Hide();<br />		IPrintLnBold(&quot;trigger hidden&quot;);<br />		}<br /><br />	foreach(trig in tony_model)<br />		{<br />		trig Hide();<br />		IPrintLnBold(&quot;model hidden&quot;);<br />		}<br /><br />	//also want tony_trigs model to be hidden/shown with trigs<br />	start_trig waittill(&quot;trigger&quot;, player);<br /><br /><br />	foreach(trig in tony_trigs)<br />		{<br />		trig TriggerEnable(1); //you could use Show();<br />		IPrintLnBold(&quot;trigger shown&quot;);<br />		}	<br /><br />	foreach(trig in tony_model)<br />		{<br />		trig Show();<br />		IPrintLnBold(&quot;model shown&quot;);<br />		}<br /><br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />Didn&#39;t work, the hidden trigs and objects were visible the whole time and every trig including the start ee one says not available. Do i need to thread something?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br /><blockquote><em>modric</em><br />Didn&#39;t work, the hidden trigs and objects were visible the whole time and every trig including the start ee one says not available. Do i need to thread something?</blockquote><br /> did you actually start the function (thread functionname();) because the start trigger should say<br />[CODE=php]Press to start quest[/CODE]<br />no questions asked.<br /> <br /> <br />also<br /> <br />to remove the not available from the other triggers add<br /> <br />[CODE=php]trig SetHintString(&quot;&quot;);<br />trig SetCursorHint(&quot;HINT_NOICON&quot;);[/CODE]<br />where the triggers are being hidden and<br /> <br />[CODE=php]trig SetHintString(&quot;insert text here&quot;);<br />[/CODE]<br />when you make them reapear</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />Ok thanks so far so good, but I think it would be easier to just seperate this ee step from others to make it easier to script. Could I make the tony objects and triggers disappear once triggered? also could I make them only triggered by a trigger damage with a specific gun? like the ray gun or something?</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />Here&#39;s an update. Add trigger_damages and make the model the target of the trigger. Make the trigger and model into a prefab (you don&#39;t need to) and copy paste it where ever you want as many times as you want. And make sure the models DON&#39;T HAVE A TARGETNAME. It has to be autogenerated when you make them targets. To autogenerate shift click on the trigger then shift click on the model and press W.<br /> <br />[CODE=php]function tony_ee()<br />{<br /><br />	start_trig = GetEnt(&quot;ee_start_trig&quot;, &quot;targetname&quot;);<br />	start_trig SetHintString(&quot;Press to start quest&quot;);<br />	tony_trigs = GetEntArray(&quot;tony_trig&quot;, &quot;targetname&quot;);<br /><br />	level.tonytrigs_total = tony_trigs.size;<br />	level.tonytrigs_current = 0;<br /><br />	foreach(trig in tony_trigs)<br />		{<br />		trig TriggerEnable(0); //you could use Hide();<br />		IPrintLnBold(&quot;trigger hidden&quot;);<br />		hide_model(); //calling the hdie_model() function<br />		}<br /><br />	start_trig waittill(&quot;trigger&quot;, player);<br /><br /><br />	foreach(trig in tony_trigs)<br />		{<br />		trig TriggerEnable(1); //you could use Show();<br />		IPrintLnBold(&quot;trigger shown&quot;);<br />		trig thread shoot_tony();<br />		}	<br /><br />}<br /><br /><br />function hide_model()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Hide();<br />IPrintLnBold(&quot;model hidden&quot;);	<br />}<br /><br /><br />function shoot_tony()<br />{<br />model = GetEnt( self.target, &quot;targetname&quot; );<br />model Show();<br />IPrintLnBold(&quot;model shown&quot;);<br /><br />while(1)<br />	{<br />	self waittill( &quot;damage&quot;, amount, attacker, direction_vec, point, type, tagName, modelName, partName, weapon, dFlags, inflictor, chargeLevel );<br />	if(weapon == GetWeapon(&quot;INSERT GUN NAME HERE&quot;))<br />		{<br />		PlayFX(&quot;fx name/path&quot;,model.origin);<br />		model PlaySound(&quot;sound aliat&quot;);<br />		wait(0.05); //only is you&#39;re playing sound<br />		model Delete();<br />		trig Delete();<br />		level.tonytrigs_current++;<br />		IPrintLnBold(&quot;Collected &quot;+level.tonytrigs_current+&quot;/&quot;+level.tonytrigs_total);	<br />		break;<br />		}<br />	}<br />}[/CODE]</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: modric<br />Wow thank you this script is awesome. I just want to ask though , for the final reward, would it be possible to have a simple door move as one of the &quot;rewards&quot; for collecting all 3? just a simple script model to move or disappear would be awesome</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: mathfag<br />In the last function after the iprintlnbold and before the break; add thread tony_reward();<br /> <br />and this to the bottom:<br /> <br />[CODE=php]function tony_reward()<br />{<br />perk_struct = struct::get(&quot;perk_struct&quot;, &quot;targetname&quot;);<br />doors = GetEntArray(&quot;tony_doors&quot;,&quot;targetname&quot;);<br />rewards = array(&quot;door&quot;, &quot;powerup&quot;, &quot;perk&quot;); //remove what you don&#39;t want<br /><br /><br /><br />doordis = 1; //door disappear = 1, move = 0<br />drop = &quot;fire_sale&quot;; //check bellow and delete the line if you want a random drop<br />perk = &quot;specialty_armorvest&quot;; //check _zm_perks.gsh<br /><br />if(level.tonytrigs_current == level.tonytrigs_total)<br />	{<br />	foreach(reward in rewards)<br />		{<br />		if(reward == &quot;door&quot;)<br />			{<br />			if(doordis == 1)<br />				{<br />				foreach(door in doors)<br />				door Delete();<br />				}<br />			else<br />				{<br />				door MoveZ(-200,0.5,0.1,0.1); //MoveZ(&lt;point&gt;,&lt;time&gt;,[acceleration time],[deceleration time])<br />				}<br />			}<br /><br />		if(reward == &quot;powerup&quot;)<br />			{ //drop is defined above, delete the line you don&#39;t want<br />			zm_powerups::specific_powerup_drop(drop, perk_struct.origin,undefined ,undefined ,undefined , undefined, true); <br />			zm_powerups::powerup_drop(perk_struct.origin);<br />			}<br /><br />		if(reward == &quot;perk&quot;)<br />			{<br />			foreach(player in GetPlayers())<br />				{<br />				player zm_perks::give_perk(perk)<br />				}	<br />			}<br />		}<br /><br />	}<br />}	&lt;/time&gt;&lt;/point&gt;[/CODE]<br /> <br />I made is so you can open multiple doors but you can place only 1 (or 0) if you want.<br />Also I wrote this in 5 mins so hope it works.</p>

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Reply By: Harry Bo21<br />you need to run <br /> <br />[CODE=php]entity connectPaths()[/CODE]<br /> <br /> <br />on the blocker before removing it or zombies will derp out if a player goes in there</p>
