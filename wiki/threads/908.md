# [Tutorial] How To Move The Player / With Entities
Game Modding | Call of Duty: Black Ops 3 | Scripting

---
<strong style="font-size: 1.4em;"><span style="text-decoration: underline;text-decoration-color: #34a7f9;"><span style="color:#34a7f9;">ModmeBot</span></span>:</strong>

<p>Thread By: CT8918<br /><p style="text-align:left;">[Tutorial] How To Move The Player / With Entities</p><p style="text-align:left;">By: CT8918</p><br /><br /><p style="text-align:left;">Here is a script that moves a player gradually from point A to point B. Not a teleporting script.</p><p style="text-align:left;">I created this because when an entity is moving below a player, the player just slides off.</p><p style="text-align:left;">This script allows the player to move with the entity. Could also be used for other things as well.</p><br /><br /><p style="text-align:left;">Special thanks to DTZxPorter and EnCore Modding for helping me figure out what move functions to use.</p><br /><br />[CODE=php]/*<br />Script: move_player<br />Author: CT8918 <br />Date Created: 3/9/2017<br />Move Function Help: DTZxPorter and EnCore Modding<br />Used initially in the map &quot;Mortuus-Arena.&quot; Coming Soon...<br /><br />Put in mapname.gsc (Located in Call of Duty Black Ops III\usermaps\mapname\scripts\zm)<br /><br />My implementation was for moving the player on top of a moving zamboni.<br /><br />HOW TO USE<br />1. 	Create Trigger with these two kvps:<br />		[Change Value] 		property: targetname 			value: name_your_function_trig (I used: ride_zamboni_trig) <br />		[Add KVP]			property: target				value: point1<br />	<br />2. 	Create a script_origin where you want the player to start from with two kvps needed and one optional kvp:<br />		[Change Value] 		property: targetname 			value: point1<br />		[Add KVP Needed]	property: target				value: point2<br />		[Add KVP Optional]	property: model					value: c_t6_default_character_fb (This allows you to see where player will be.)<br />	<br />3. 	Create a script_origin where you want the player to end up with one kvp needed and one optional kvp:<br />		[Change Value] 		property: targetname 			value: point2<br />		[Add KVP Optional]	property: model					value: c_t6_default_character_fb (This allows you to see where player will be.)<br />	<br />4. 	Edit script below making sure the functions match each other. I have default names. <br />		Use Ctrl+H to find and replace names. Find &quot;name_your_function&quot; and replace with whatever you want.<br />	<br />	Make sure to change:<br />		name_your_function_array = GetEntArray(&quot;name_your_function_trig&quot;, &quot;targetname&quot;);<br />*/<br /><br />//TO INITIALIZE - Place wherever you want the function&#39;s Trigger to be initialized at.<br />	thread name_your_function_init();<br /><br />//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++	<br />//FUNCTIONS TO MOVE PLAYER<br />//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br />/*<br />FUNCTION: name_your_function_init <br />Initializes the process of moving the player.<br />Can add a cost to how much the trigger will cost.<br />Gets the path of the player and stores in an array.<br />Precondition: Need to have a trigger, a point1 script_origin, and a point2 script_origin.	<br />*/<br />function name_your_function_init()<br />{<br />    level.name_your_function_cost = 500; //Cost to start moving (not needed).<br /> <br />    name_your_function_array = GetEntArray(&quot;name_your_function_trig&quot;, &quot;targetname&quot;); //Gets Point1 and Point2<br /> <br />    for(i=0;i&lt;name_your_function_array.size;i++) {=&quot;&quot; name_your_function_array<em>=&quot;&quot; thread=&quot;&quot; name_your_function_think();=&quot;&quot; }=&quot;&quot; }=&quot;&quot; *=&quot;&quot; function:=&quot;&quot; name_your_function_think=&quot;&quot; waits=&quot;&quot; for=&quot;&quot; the=&quot;&quot; trigger=&quot;&quot; to=&quot;&quot; be=&quot;&quot; used=&quot;&quot; and=&quot;&quot; then=&quot;&quot; calls=&quot;&quot; the=&quot;&quot; function(s)=&quot;&quot; to=&quot;&quot; run.=&quot;&quot; precondition:=&quot;&quot; run=&quot;&quot; &quot;thread=&quot;&quot; name_your_function_init();&quot;=&quot;&quot; in=&quot;&quot; main=&quot;&quot; or=&quot;&quot; where=&quot;&quot; you=&quot;&quot; need=&quot;&quot; it.=&quot;&quot; */=&quot;&quot; function=&quot;&quot; name_your_function_think()=&quot;&quot; {=&quot;&quot; self=&quot;the&quot; trigger=&quot;&quot; self=&quot;&quot; sethintstring(&quot;press=&quot;&quot; ^3[{+activate}]=&quot;&quot; ^7to=&quot;&quot; ride=&quot;&quot; the=&quot;&quot; zamboni.=&quot;&quot; [cost:=&quot;&quot; &quot;=&quot;&quot; +=&quot;&quot; level.name_your_function_cost=&quot;&quot; +=&quot;&quot; &quot;]&quot;);=&quot;&quot; self=&quot;&quot; setcursorhint(&quot;hint_noicon&quot;);=&quot;&quot; point1=&quot;GetEnt(self.target,&quot; &quot;targetname&quot;);=&quot;&quot; point2=&quot;GetEnt(point1.target,&quot; &quot;targetname&quot;);=&quot;&quot; while=&quot;&quot; loop=&quot;&quot; to=&quot;&quot; allow=&quot;&quot; a=&quot;&quot; reuse=&quot;&quot; of=&quot;&quot; the=&quot;&quot; trigger.=&quot;&quot; if=&quot;&quot; one=&quot;&quot; and=&quot;&quot; done,=&quot;&quot; remove=&quot;&quot; this=&quot;&quot; one=&quot;&quot; and=&quot;&quot; delete=&quot;&quot; trigger=&quot;&quot; at=&quot;&quot; the=&quot;&quot; end.=&quot;&quot; while(1)=&quot;&quot; {=&quot;&quot; while=&quot;&quot; loop=&quot;&quot; to=&quot;&quot; wait=&quot;&quot; for=&quot;&quot; player=&quot;&quot; input.=&quot;&quot; while(1)=&quot;&quot; {=&quot;&quot; self=&quot;&quot; waittill(&quot;trigger&quot;,=&quot;&quot; player);=&quot;&quot; if(player.score=&quot;&quot;&gt;= level.name_your_function_cost)<br />            {<br />                player.score -=(level.name_your_function_cost); //Deducts the points from player. If free, do not include.<br />				//player thread driveZamboni(); //This is what I used to move the Zamboni&#39;s brushmodels and models. Included example at bottom.<br />                player thread name_your_function_move_player(point1, point2); //This is what actually moves the player.<br />				//self Delete(); //Deletes the trigger. Remove comments if one and done.<br />                break;<br />            }<br />        }<br />    }<br />}<br /><br />/*<br />FUNCTION: name_your_function_move_player <br />Moves the player from point1 to point2.<br />Precondition: Run &quot;thread name_your_function_init();&quot; in main or where you need it.<br />*/<br />function name_your_function_move_player(point1, point2)<br />{<br />    self EnableInvulnerability(); //Just a precaution. Unfair if player dies frozen. <br /><br />    WAIT_SERVER_FRAME;<br /><br />    self thread look_at(point2); //Fixes player gaze and prevents any body glitches.<br /><br />    origin = spawn(&quot;script_model&quot;, point1.origin);<br />    origin setModel(&quot;tag_origin&quot;);<br />    self SetOrigin( origin.origin );<br />    self PlayerLinkTo(origin, &quot;tag_origin&quot;);<br /><br />    origin MoveTo( point2.origin, 30, 3, 0 ); //MoveTo((&lt;point[a vector]=&quot;&quot;&gt;,&lt;time&gt;,[acceleration time],[deceleration time])<br />    origin waittill(&quot;movedone&quot;);<br /><br />    self notify(&quot;arrived_at_point2&quot;); //Player can now by &quot;unlocked.&quot;<br />    self FreezeControls(false);<br />    self DisableInvulnerability(); //Removes the precaution. Player may now die if zombies there. May need to add delay.<br />    origin Delete(); <br />}<br /><br />/*<br />FUNCTION: look_at <br />Does not allow player to move and locks the players gaze at point2.<br />Precondition: Run &quot;thread name_your_function_init();&quot; in main or where you need it.<br />*/<br />function look_at(point)<br />{<br />    self endon(&quot;arrived_at_point2&quot;);<br />    while(1)<br />    {<br />		//&quot;Locks&quot; the player in place.<br />		self SetPlayerAngles(point.angles); <br />		self FreezeControls(true);<br />		WAIT_SERVER_FRAME;<br />    }<br />}<br />//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br />//END FUNCTIONS TO MOVE PLAYER<br />//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br /><br />//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++	<br />//BONUS FUNCTION!!!<br />//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br /><br />/*<br />FUNCTION: drive_zamboni<br />THIS IS THE FUNCTION I USED TO MOVE ZAMBONI(THE THING BELOW MY PLAYER).<br />Use only as a reference.<br />***DO NOT COPY INTO YOUR CODE BECAUSE &quot;level.zamboni&quot; HAS NOT BEEN DECLARED*** <br />*/<br />function drive_zamboni()<br />{<br />	/*	<br />	I have the zamboni array as a level variable since I used it before.<br />	To get everything the zamboni was made out of, I gave every <br />	script_brushmodel&#39;s and script_model&#39;s the targetname of &quot;zamboni_components.&quot;	<br />	I then used this code segment to select them all:<br />		level.zamboni = getEntArray( &quot;zamboni_components&quot;, &quot;targetname&quot; );<br />	This allows me to move them all together using a for loop.<br />	You can use this with anything in a map to move in a straight line. Rotate throws stuff out of place.<br />	*/<br /><br />	level.zamboni[0] playsound(&quot;start_engine&quot;); //Engine sound I have. Had to specify a specific brush/model so I used [0].<br />	wait(3);<br />	level.zamboni[0] playsound(&quot;zamboni13s&quot;); //Driving sound for 30 seconds.<br />		<br />	//This is what I used to move the zamboni to where I wanted it to go. Used a for loop for every component to move.<br />	for(i = 0; i &lt; level.zamboni.size; i++)<br />	{<br />		//Match the units with the player.<br />		level.zamboni<em>movey(-1888, 30, 3, 0); //I have point2 located -1888 y units away from point1.<br />	}<br />	wait(30); //This is how long I used for the Zamboni to move.<br />	<br />	//Deletes or resets the components. Could have used: movey(1888, 30, 3, 0) to go back to initial smoothly.<br />	for(i = 0; i &lt; level.zamboni.size; i++)<br />	{<br />		//level.zamboni<em>movey(1888, 0.0000001, 0, 0); //Yanked back for reuse.<br />		level.zamboni<em>delete(); //The zamboni has been taken away!  <br />	}<br />}<br />//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br />//END BONUS FUNCTION<br />//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br />&lt;/time&gt;&lt;/point[a&gt;&lt;/name_your_function_array.size;i++)&gt;[/CODE]<br /><br /><br /><br /><p style="text-align:left;"></p><p style="text-align:left;"></p></em></em></em></em></p>
